
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Un informático de siempre… en estos tiempos modernos">
      
      
      
        <link rel="canonical" href="https://pruebadeconcepto.es/rpi/rpi_downmanager/">
      
      
        <link rel="prev" href="../rpi_wordpress2/">
      
      
        <link rel="next" href="../rpi_airprint/">
      
      <link rel="icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.8">
    
    
      
        <title>Instalando una RaspberryPI todo uso… en 2014 (parte 8) – práctico 2 - Gestor de Descargas - Prueba de Concepto</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gestor-de-descargas" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Prueba de Concepto" class="md-header__button md-logo" aria-label="Prueba de Concepto" data-md-component="logo">
      
  <img src="../../images/logo_white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Prueba de Concepto
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Instalando una RaspberryPI todo uso… en 2014 (parte 8) – práctico 2 - Gestor de Descargas
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_3" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_3">
            
              <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Inicio
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../gen/gen_hello-world/" class="md-tabs__link">
        Generales
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../infov/infv_guybrush/" class="md-tabs__link">
        Informática Viejuna
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../tec/tec_actionsec2/" class="md-tabs__link">
        Tecnología
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../tips/tip_sumaconawk/" class="md-tabs__link">
        Chuletas
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../rpi_intro/" class="md-tabs__link md-tabs__link--active">
        RaspberryPi
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../about/about_acercademi/" class="md-tabs__link">
        Acerca de
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Prueba de Concepto" class="md-nav__button md-logo" aria-label="Prueba de Concepto" data-md-component="logo">
      
  <img src="../../images/logo_white.png" alt="logo">

    </a>
    Prueba de Concepto
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Inicio
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Generales
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Generales
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gen/gen_hello-world/" class="md-nav__link">
        Hola mundo!!
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Informática Viejuna
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Informática Viejuna
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../infov/infv_guybrush/" class="md-nav__link">
        ¡Hola! Me llamo Guybrush Threepwood, ¡y quiero ser un pirata!
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../infov/infv_discossd/" class="md-nav__link">
        ¿Y esto tiene discos SSD?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../infov/infv_cpdcuarto/" class="md-nav__link">
        Erase una vez... un CPD en un cuarto escobero
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../infov/infv_diagramasflujo/" class="md-nav__link">
        Diagramas de flujo e ISO 5807
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../infov/infv_eleccionesrancias/" class="md-nav__link">
        Elecciones del siglo 21, que ya va tocando
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../infov/infv_hilosethernet/" class="md-nav__link">
        ¿Quien mueve los hilos?? (de mi ethernet)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../infov/infv_mirrorpublicos/" class="md-nav__link">
        Mirror para todos los públicos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../infov/infv_tarifaplanaya/" class="md-nav__link">
        Tarifa plana YA!!
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Tecnología
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Tecnología
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tec/tec_actionsec2/" class="md-nav__link">
        Envía ficheros desde Github a EC2 con actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tec/tec_comoestamontado/" class="md-nav__link">
        ¿Cómo está montado este blog?
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Chuletas
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Chuletas
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/tip_sumaconawk/" class="md-nav__link">
        Chuleta 00 Sumar con AWK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/tip_utilesansible/" class="md-nav__link">
        Chuleta 01 Comandos útiles con ansible
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/tip_rescatadored/" class="md-nav__link">
        Chuleta 02 Rescantando de la red
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/tip_vaciandoonenote/" class="md-nav__link">
        Chuleta 03 Vaciando OneNote
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/tip_segundoplano/" class="md-nav__link">
        Chuleta 04 Trabajando con el segundo plano
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/tip_journal/" class="md-nav__link">
        Chuleta 05 Journal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/tip_ficheroexiste/" class="md-nav__link">
        Chuleta 06 ¿El fichero existe?
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          RaspberryPi
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          RaspberryPi
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_intro/" class="md-nav__link">
        Introducción
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_install_i/" class="md-nav__link">
        Instalación Básica I
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_install_ii/" class="md-nav__link">
        Instalación Básica II
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_securizacion/" class="md-nav__link">
        Securización
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_backup/" class="md-nav__link">
        Copias de Seguridad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_wordpress1/" class="md-nav__link">
        Práctico 1 - Wordpress 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_wordpress2/" class="md-nav__link">
        Práctico 1 - Wordpress 2
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Práctico 2 - Gestor de Descargas
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Práctico 2 - Gestor de Descargas
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gestor-de-descargas" class="md-nav__link">
    Gestor de descargas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#infraestructura-previa" class="md-nav__link">
    Infraestructura previa
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#descarga-p2p" class="md-nav__link">
    Descarga P2P
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#descarga-directa-megaconz" class="md-nav__link">
    Descarga directa mega.co.nz
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatizacion-de-descargas" class="md-nav__link">
    Automatización de descargas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uso-de-feeds-rss-para-gestion-de-series" class="md-nav__link">
    Uso de Feeds RSS para gestión de series
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vamos-a-editar-la-configuracion-de-flexget" class="md-nav__link">
    Vamos a editar la configuración de FlexGet.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exportacion-samba" class="md-nav__link">
    Exportación SAMBA
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_airprint/" class="md-nav__link">
        Práctico 3 - Servidor Impresión/AirPrint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_backupserver/" class="md-nav__link">
        Práctico 4 - Servidor Copias de Seguridad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_domotica/" class="md-nav__link">
        Práctico 5 - Domótica, Cámaras IP y RaZberry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_mediacenter/" class="md-nav__link">
        Práctico 6 - Media Center
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_emulador/" class="md-nav__link">
        Práctico 7 - Emulación de juegos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_alternativas/" class="md-nav__link">
        Alternativas a RPi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_apendice1/" class="md-nav__link">
        Apéndices (I) - Reinicio de router
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_apendice2/" class="md-nav__link">
        Apéndices (II) - XBMC con MariaDB para BBDD distribuida
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_apendice3/" class="md-nav__link">
        Apéndices (III) - Administración con Webmin
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Acerca de
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Acerca de
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/about_acercademi/" class="md-nav__link">
        Acerca de mi y mis pruebas de concepto
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/about_privacy-policy/" class="md-nav__link">
        Política de privacidad
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gestor-de-descargas" class="md-nav__link">
    Gestor de descargas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#infraestructura-previa" class="md-nav__link">
    Infraestructura previa
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#descarga-p2p" class="md-nav__link">
    Descarga P2P
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#descarga-directa-megaconz" class="md-nav__link">
    Descarga directa mega.co.nz
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatizacion-de-descargas" class="md-nav__link">
    Automatización de descargas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uso-de-feeds-rss-para-gestion-de-series" class="md-nav__link">
    Uso de Feeds RSS para gestión de series
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vamos-a-editar-la-configuracion-de-flexget" class="md-nav__link">
    Vamos a editar la configuración de FlexGet.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exportacion-samba" class="md-nav__link">
    Exportación SAMBA
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Práctico 2 - Gestor de Descargas</h1>

<h2 id="gestor-de-descargas">Gestor de descargas<a class="headerlink" href="#gestor-de-descargas" title="Permanent link">&para;</a></h2>
<p>No debemos perder de vista que el gasto energético de estas máquinas es mínimo, se puede situar en casi todos los casos <strong>por debajo de los 5W</strong>.</p>
<p>Esto lo hace que sean ideales para tener como máquinas que estén permanentemente conectadas a la red con el propósito de descargar y compartir contenidos, bien sea por redes P2P como por servicio de descarga directa.</p>
<p>En cualquier caso, necesitaremos conectar a la máquina una unidad de disco externo por los puertos USB, y este disco que se conecte no puede tener un consumo elevado pues la máquina no podrá con ello.</p>
<p>Todo lo que sea más grande de un pendrive es necesario que esté autoalimentado (con su propio adaptador de corriente) o bien que este conectado a un HUB o regleta USB que esté a su vez autoalimentada.</p>
<p>Configuraciones para la descarga y los discos hay muchas, podemos emplear los discos de un NAS para dejar allí los datos, de otra unidad remota en red, etc. pero la configuración de un disco USB para este fin quizás sea la más sencilla.</p>
<h2 id="infraestructura-previa">Infraestructura previa<a class="headerlink" href="#infraestructura-previa" title="Permanent link">&para;</a></h2>
<p>Como he dicho necesitamos un disco externo para guardar todo lo que descarguemos, las descargas en curso, etc.</p>
<p>El proceso para particionar ese disco que conectemos (que con suerte nos vendrá de tienda con formato NTFS o HFS+) es igual que el que hemos seguido para particionar las tarjetas SD.</p>
<p>Localizamos la unidad/dispositivo.</p>
<p>Ejecutamos el comando <code>fdisk</code> para ese <code>/dev/sd_loquesea</code></p>
<p>Y borramos las particiones que tenga para crear otra nueva, dándole todo el espacio disponible en el disco o bien creando varias particiones por, por ejemplo, tamaño en Gb.</p>
<p>Terminado el particionamiento, como hemos visto antes, creamos el sistema de ficheros ext4 y lo montamos modificando el fichero <code>/etc/fstab</code> .</p>
<p>Como leéis he pasado un poco de puntillas por este paso inicial, pero es algo que ya llevo contadas al menos un par de veces… mirad atrás que si no la guía saldrá kilométrica.</p>
<p>En mi caso, para hacer estas pruebas he seguido usando el pendrive de pasos anteriores, el que está montado sobre <code>/BCK</code> y <code>/srv</code>.</p>
<p>Lo único que yo creo es una estructura de directorios para tenerlo todo organizado, pero como siempre digo, esto es como yo lo hago, que no es ni la mejor ni la única manera.</p>
<div class="highlight"><pre><span></span><code>[root@Jarvis ~]# mkdir -p /srv/downloads/Torrent/Finalizadas
[root@Jarvis ~]# mkdir -p /srv/downloads/Torrent/EnCurso
[root@Jarvis ~]# mkdir -p /srv/downloads/Directas
</code></pre></div>
<h2 id="descarga-p2p">Descarga P2P<a class="headerlink" href="#descarga-p2p" title="Permanent link">&para;</a></h2>
<p>Para la gestión de descargas de la red Torrent (¿Aun existe algo en las redes Emule??) el cliente que por lo menos a mi me resulta más fácil de instalar, configurar y que menos recursos consume en el sistema es <a href="http://www.transmissionbt.com">Transmission</a>.</p>
<p>Además, este cliente también está disponible en el mismo “formato” para nuestros Mac OSX por lo que es posible que a muchos les suene.</p>
<p>Los pasos de instalación son extremadamente simples, no así la configuración que tiene un punto delicado que ahora os cuento.</p>
<p>Para instalar, lo de siempre, <code>pacman</code> …</p>
<div class="highlight"><pre><span></span><code>[root@Jarvis srv]# pacman -S transmission-cli
resolviendo dependencias...
verificando conflictos...
Paquetes (2): libevent-2.0.21-3 transmission-cli-2.82-1
Tamaño Total de Descarga: 0,66 MiB
Tamaño Total Instalado: 3,92 MiB
:: ¿Continuar con la instalación? [S/n] S
:: Recuperando paquetes ...
libevent-2.0.21-3-armv6h 183,7 KiB 536K/s 00:00 [################] 100%
transmission-cli-2.82-1-armv6h 491,8 KiB 700K/s 00:01 [################] 100%
(2/2) verificando llaves en el llavero [################] 100%
(2/2) verificando la integridad de los paquetes [################] 100%
(2/2) cargando los archivos del paquete... [################] 100%
(2/2) verificando conflictos entre archivos [################] 100%
(2/2) verificando el espacio disponible en disco [################] 100%
(1/2) instalando libevent [################] 100%
Dependencias opcionales para libevent
python2: to use event_rpcgen.py
(2/2) instalando transmission-cli [################] 100%
</code></pre></div>
<p>Este paquete, además de instalar el producto nos crea un usuario:</p>
<div class="highlight"><pre><span></span><code>[root@Jarvis srv]# tail -1 /etc/passwd
transmission:x:169:169:Transmission BitTorrent Client:/var/lib/transmission:/bin/false
</code></pre></div>
<p>Nos ha creado un usuario transmission, incluso un grupo transmission y su home de usuario en <code>/var/lib/transmission</code></p>
<p>Es precisamente en esa ruta donde se guarda el fichero de configuración de Transmission y el que debemos modificar.</p>
<p>El “problema” de este fichero es que se carga en memoria cuando se arranca el cliente, y si realizamos alguna modificación sobre el los cambios no se verán reflejados en los siguientes arranques… y esto puede mosquear un poco y volverte algo loco, haces cambios y luego no los ves ahí donde habías tocado… XD</p>
<p>Arrancamos el cliente, porqué hasta que no se hace el primer arranque no se genera el fichero de configuración, y acto seguido lo paramos para poder modificarlo sin problemas.</p>
<div class="highlight"><pre><span></span><code>[root@Jarvis srv]# systemctl start transmission
[root@Jarvis srv]# systemctl stop transmission
</code></pre></div>
<p>Ahora en el home del usuario transmission (recordar nuestra amiga la virgulilla <code>~transmission</code> ) se ha generado un directorio <code>.config</code>
<div class="highlight"><pre><span></span><code>[root@Jarvis srv]# cd ~transmission/.config/transmission-daemon/
[root@Jarvis srv]# vi settings.json
</code></pre></div></p>
<p>Los parámetros que podemos configurar son muchos y no tienen mucha pérdida pero os cuento más o menos lo que suelo modificar yo (atención con las <strong>,</strong> al final de cada línea!!):</p>
<p><code>"download-dir": “/srv/downloads/Torrent/Finalizadas”,</code>  Directorio donde se quedan los ficheros cuando se ha terminado la descarga.</p>
<p><code>"download-queue-enabled": true,</code>  Habilitamos la cola de descargas.</p>
<p><code>"download-queue-size": 10,</code>  Y el tamaño de la cola de descargas, este es el valor de las descargas simultáneas.</p>
<p><code>"incomplete-dir": "/Descargas/Torrent/EnCurso",</code>  Directorio para las descargas en curso.</p>
<p><code>"incomplete-dir-enabled": true,</code>  Y activación para este directorio (¿un poco ridículo no?).</p>
<p>Como sabréis, y si no os lo cuento yo ahora mismo, el cliente de Transmission es por web, y estos son los parámetros que yo modifico para poder tener acceso a esa web con usuario/clave</p>
<p><code>"rpc-authentication-required": true,</code>  Lógico, lo activamos.</p>
<p><code>"rpc-enabled": true,</code> Y lo volvemos a activar…</p>
<p><code>"rpc-password": "{4c5248273881de992229dca1f72c531b0129db34pRnyy6th",</code> Es la clave de acceso, <strong>la primera vez</strong> se pone en texto en “claro” entre las ”.</p>
<p><code>"rpc-port": 9091,</code> Puerto de escucha del cliente web</p>
<p><code>"rpc-url": "/transmission/",</code>Prefijo para componer la URL de acceso a este cliente web.</p>
<p><code>"rpc-username": "operador",</code> Y el usuario con el que nos vamos a conectar.</p>
<p><code>"rpc-whitelist-enabled": false,</code> para que no valide la lista “blanca” de direcciones IP desde las que podemos administrar.</p>
<p>Así, con todos estos parámetros vemos por ejemplo que la url de administración de ese transmission será http://IP_De_Tu_Rpi:9091/transmission</p>
<p>En cuando a la clave, se pone en claro la primera vez, pero cuando arranquemos luego transmission, se cifra y aparecerá un chorro de números y letras.</p>
<p>Y el resto de parámetros, pues si queremos esos ya podemos cambiarlos por el cliente web, por que haciendo estos cuatro cambios que os digo ya tendríais todo salvo la configuración de velocidades máxima/mínima, el scheduler para las zonas horarias en las que poder tener distinta velocidad, etc.</p>
<p>Arrancamos el cliente y lo fijamos para que en los sucesivos rearranques del servidor se active.
<div class="highlight"><pre><span></span><code>[root@Jarvis srv]# systemctl start transmission
[root@Jarvis srv]# systemctl enable transmission
</code></pre></div></p>
<h2 id="descarga-directa-megaconz">Descarga directa mega.co.nz<a class="headerlink" href="#descarga-directa-megaconz" title="Permanent link">&para;</a></h2>
<p>Para la descarga desde servicios directos podemos emplear software como Jdownloader2, y ahí tendríamos todas las posibilidades de hostings disponibles.</p>
<p>A mi, personalmente no me gusta mucho, el tema de la resolución de Capchas no termina de ir bien o debes buscar algún servicio de resolución de capuchas que también te llevan un tiempo y al final terminas haciéndolo todo a mano o buscado los enlaces en mega.co.nz que no tiene capchas, y encima da una velocidad de descarga de escándalo.</p>
<p>No tenemos cliente nativo de Mega para las Rpi, así que toca buscar alguna solución que ya lo haya implementado. Hay pocas por no decir que sólo hay una <a href="http://megatools.megous.com">megatools</a> .</p>
<p>Este software no es más que una capa sobre la propia Api de Mega que nos permite realizar casi todas las tareas que queramos con nuestra cuenta de Mega, aunque la función que nos interesa es la de descarga de enlaces públicos.</p>
<p>Por otro lado, este software se encuentra en estos momentos “congelado” por las cláusulas relativas a la privacidad que la Api de Mega te obliga a “acatar” si las quieres usar.</p>
<p>En cualquier caso, la parte de descargas de enlaces públicos que es lo que vamos a usar funcionan correctamente. Este software no lo vamos a encontrar en los repositorios oficiales y por tanto esta vez no vamos a emplear pacman.</p>
<p>Debemos <strong>descargar los fuentes del software y compilarlo</strong>.</p>
<p>No os asustéis por que esto es de lo más normal y no todos los productos deben existir en formato paquete en repositorio para poder ser instalado.</p>
<p>Necesitamos por tanto los fuentes del software que descargamos así:</p>
<div class="highlight"><pre><span></span><code>[root@Jarvis ~]# cd /root/Descargas
[root@Jarvis Descargas]# wget http://megatools.megous.com/builds/megatools-1.9.91.tar.gz
--2014-03-28 18:58:33-- http://megatools.megous.com/builds/megatools-1.9.91.tar.gz
Resolviendo megatools.megous.com (megatools.megous.com)... 77.93.202.41
Conectando con megatools.megous.com (megatools.megous.com)[77.93.202.41]:80... conectado.
Petición HTTP enviada, esperando respuesta... 200 OK
Longitud: 450518 (440K) [application/x-gzip]
Grabando a: “megatools-1.9.91.tar.gz”
100%[=============================================&gt;] 450.518 830KB/s en 0,5s
2014-03-28 18:58:34 (830 KB/s) - “megatools-1.9.91.tar.gz” guardado [450518/450518]
</code></pre></div>
<p>Y los compiladores para generar el programa ejecutable, que se obtienen así:
<div class="highlight"><pre><span></span><code>[root@Jarvis Descargas]# pacman -S make gcc glib-networking curl fuse pkg-config
atención: make-4.0-2 está actualizado -- re-instalando
atención: gcc-4.8.2-7 está actualizado -- re-instalando
resolviendo dependencias...
verificando conflictos...
Paquetes (9): gcc-4.8.2-7 make-4.0-2 gnutls-3.2.12.1-1 gsettings-desktop-schemas-3.10.1-1 libproxy-0.4.11-2
libtasn1-3.4-1 nettle-2.7.1-1 p11-kit-0.20.2-1 glib-networking-2.38.2-1 curl-7.35.0-1 fuse-2.9.3-2
pkg-config-0.28-1
Tamaño Total Instalado: 65,97 MiB
Tamaño neto a actualizar: 0,00 MiB
:: ¿Continuar con la instalación? [S/n] S
(2/2) verificando llaves en el llavero [################] 100%
(2/2) verificando la integridad de los paquetes [################] 100%
(2/2) cargando los archivos del paquete... [################] 100%
(2/2) verificando conflictos entre archivos [################] 100%
(2/2) verificando el espacio disponible en disco [################] 100%
(1/2) reinstalando make [################] 100%
(2/2) reinstalando gcc [################] 100%
…
</code></pre></div></p>
<p>Descomprimimos los fuentes:
<div class="highlight"><pre><span></span><code>[root@Jarvis Descargas]# tar -xvzf megatools-1.9.91.tar.gz
megatools-1.9.91/
megatools-1.9.91/Makefile.in

…

megatools-1.9.91/m4/lt~obsolete.m4
megatools-1.9.91/install-sh
</code></pre></div></p>
<p>Y ahora la secuencia de comandos de configuración, compilación e instalación son los siguientes:
<div class="highlight"><pre><span></span><code>[root@Jarvis ~]# cd ~/Descargas/megatools-1.9.91
[root@Jarvis megatools-1.9.91]# ./configure
[root@Jarvis megatools-1.9.91]# make
[root@Jarvis megatools-1.9.91]# make install
</code></pre></div>
Llegados a este último punto, si no hemos encontrado errores (que aparecen en grande en la pantalla…) tendremos</p>
<p>en la ruta <code>/usr/local/bin</code>instalados los programas.</p>
<p>Si queremos podemos eliminar la descarga de fuentes de megatools que no nos harán falta más:
<div class="highlight"><pre><span></span><code>[root@Jarvis megatools-1.9.91]# cd ~/Descargas
[root@Jarvis Descargas]# rm -fr megatools-1.9.91*
</code></pre></div>
Ahora hacemos una prueba de descarga, necesitamos un enlace válido a <a href="http://mega.co.nz">mega.co.nz</a> para probarlo.</p>
<p>Por ejemplo este: <a href="https://mega.co.nz/#!fNQkWTDR!vXyDZ1EbBVvYzBLVCqCzUfVi2CVW-uhfmKevIxn9ZWU">https://mega.co.nz/#!fNQkWTDR!vXyDZ1EbBVvYzBLVCqCzUfVi2CVW-uhfmKevIxn9ZWU</a></p>
<p>El comando que ejecutaríamos es:
<div class="highlight"><pre><span></span><code>[root@Jarvis Descargas]# megadl &#39;https://mega.co.nz/#!fNQkWTDR!vXyDZ1EbBVvYzBLVCqCzUfVi2CVW-uhfmKevIxn9ZWU&#39;

True Detective 1x01 [josele].avi: 2% - 15,2 MiB of 622,0 MiB
</code></pre></div></p>
<h2 id="automatizacion-de-descargas">Automatización de descargas<a class="headerlink" href="#automatizacion-de-descargas" title="Permanent link">&para;</a></h2>
<p>Llegados a este punto podemos descargar tanto de la red Torrent como de las descargas directas de Mega.</p>
<p>Ahora queremos automatizar las descargas, para la parte Torrent lo vemos ahora después.</p>
<p>Para la parte de Mega la forma de automatizarlo exige un poco de programación.</p>
<p>Esto que os pongo a continuación es un pequeño script, hecho de una manera un tanto improvisada pero que cumple con su cometido.</p>
<p>Lee de un fichero los enlaces que le digamos uno a uno, los descarga y una vez que esta descarga ha finalizado los borra del fichero y sigue con el siguiente.</p>
<div class="highlight"><pre><span></span><code>#!/usr/bin/perl
# Gestion de fichero de
# Variables de entorno

$FICENTRADA=&quot;~/enlaces.txt&quot;;
$FICTMP=&quot;/tmp/enlaces.tmp&quot;;
$EXEMEGA=&quot;/usr/local/bin/megadl&quot;;

# Bucle de ejecucion
# Filtrado previo

system(&quot;cat ${FICENTRADA} 2&gt;/dev/null | grep &#39;^http&#39; &gt; ${FICTMP}; mv ${FICTMP} ${FICENTRADA} 2&gt;/dev/null&quot;);
@ENLACES=\`cat ${FICENTRADA} 2&gt;/dev/null | grep &#39;^http&#39;\`;
if (@ENLACES)
 {
  foreach(@ENLACES)
  {
  $ENLACE=$_; chomp($ENLACE);

  # Ejecutamos la descarga y esperamos a que termine
  @SALIDA=\`${EXEMEGA} --no-progress &#39;${ENLACE}&#39; 2&gt;/dev/null\`;
  system(&quot;grep -v &#39;${ENLACE}&#39; ${FICENTRADA} &gt; ${FICTMP}; mv ${FICTMP} ${FICENTRADA}&quot;);
  }
 }
else
 { print &quot;\\n No existen enlaces por descargar\\n&quot;; }
</code></pre></div>
<p>Por supuesto que esto se puede superar, no es difícil…</p>
<p>El proceso se programar para que se inicie su ejecución cada X horas, sólo algunos días de la semana, etc. Recordar que antes os conté como funciona crontab y que es muy fácil establecer un patrón de comportamiento de un programa, es darle vueltas a como queremos que nos funcione.</p>
<p>Imaginad que sólo queréis que esté descargando de lunes a viernes por la noche, y que los ficheros de descarga se los habéis dejado a última hora del día… No se, es un ejemplo, yo de hecho lo hago así, se ejecuta sólo por las noches y coge los enlaces que le he ido dejando a lo largo del día.</p>
<p>El fichero de enlaces se modifica (editándolo) para añadir nuevas Urls de nuevos ficheros a descargar.</p>
<p>Y para hacerlo, desde nuestro MacOSX de una manera bastate cómoda y rápida, sin tener que andar con terminales, usaremos la conexión a través de <strong>SAMBA</strong>, os lo cuento un poco más adelante.</p>
<h2 id="uso-de-feeds-rss-para-gestion-de-series">Uso de Feeds RSS para gestión de series<a class="headerlink" href="#uso-de-feeds-rss-para-gestion-de-series" title="Permanent link">&para;</a></h2>
<p>Una de las opciones de descarga más interesantes es la gestión desasistida de nuevos contenidos, en concreto de las series, no tener que preocuparnos cuando aparece un nuevo episodio, etc.</p>
<p>Para esto, el montaje que tenemos hecho con trasmission es perfectamente válido, pero además tenemos que añadir algún que otro componente más, en este caso se llama <a href="http://flexget.com">FlexGet</a> , y por supuesto necesitaremos los correspondientes Feeds de los que obtener la información, como por ejemplo <a href="http://showrss.info">showrss.info</a> .</p>
<p>Empezamos, paramos transmission si es que no lo habíamos hecho ya:
<div class="highlight"><pre><span></span><code>[root@Jarvis ~]# systemctl stop transmission
</code></pre></div>
Instalamos FlexGet, recurrimos a pacmac y no os asustéis por la cantidad de dependencias que encuentra pacman por satisfacer y cosas a instalar.</p>
<p>Hay una dependencia que en el listado os saldría al final como opcional pero que aquí va a ser necesaria, para poder comunicar con python al rpc de transmission, así que esta a la añadimos a mano en la línea de comando de pacman.
<div class="highlight"><pre><span></span><code>[root@Jarvis ~]# pacman -S flexget python2-transmissionrpc
resolviendo dependencias...
verificando conflictos...
Paquetes (23): libyaml-0.1.5-1 python2-2.7.6-3 python2-beautifulsoup4-4.3.2-1 python2-certifi-1.0.0-1 python2-dateutil-2.1-2.1-8
python2-feedparser-5.1.3-2 python2-html5lib-0.999-3 python2-jinja-2.7.2-1 python2-jsonschema-2.3.0-1
python2-markupsafe-0.19-1
python2-progressbar-2.3-4 python2-pynzb-0.1.0-2 python2-pyrss2gen-1.1-2 python2-requests-2.2.1-1
python2-rpyc-3.2.3-1
python2-setuptools-3.3-1 python2-six-1.6.1-1 python2-sqlalchemy-0.9.3-1 python2-tmdb3-0.6.17-1 python2-
tvrage-0.3.0-1
python2-yaml-3.10-3 sqlite-3.8.4.1-1 flexget-1.2.58-1
Tamaño Total de Descarga: 12,67 MiB
Tamaño Total Instalado: 82,94 MiB
:: ¿Continuar con la instalación? [S/n] s
:: Recuperando paquetes ...
</code></pre></div>
Ahora nos vamos a registrar en la página de los rss, que es algo sencillo, sin correos ni nada de por medio.</p>
<p>Allí pues puedes configurar si quieres un RSS para todas tus series filtrados por HD o no HD, si quieres un RSS para una serie en concreto… es darle vueltas por que no es nada complicado, tan sólo hay que echarle unos minutillos de tiempo.</p>
<h2 id="vamos-a-editar-la-configuracion-de-flexget">Vamos a editar la configuración de FlexGet.<a class="headerlink" href="#vamos-a-editar-la-configuracion-de-flexget" title="Permanent link">&para;</a></h2>
<p>El fichero de configuración es bastante crítico, en el sentido de que cada línea de texto que aparece en el debe estar convenientemente escrita en cuanto a posición de espacios se refiere.</p>
<p>Ahora en cuanto veáis un ejemplo lo veréis más claro.</p>
<p>Configuramos…
<div class="highlight"><pre><span></span><code>[root@Jarvis ~]# mkdir ~/.flexget
[root@Jarvis .flexget]# vi config.yml

tasks:
rss:
rss: http://showrss.info/feeds/699.rss
all_series: yes
quality: 720p+
transmission:
host: 192.128.1.20
port: 9091
username: &#39;operador&#39;
password: &#39;operador&#39;
ratio: -1
path: /srv/downloads/Torrent/EnCurso/
sort-files:
find:
path: /srv/downloads/Torrent/EnCurso/
regexp: &#39;.*\\.(avi|mkv|mp4)$&#39;
recursive: yes
accept_all: yes
seen: local
thetvdb_lookup: yes
all_series:
parse_only: yes
move:
to: /srv/downloads/Torrent/Finalizadas/{{ tvdb_series_name }}/
filename: &#39;{{ tvdb_series_name }} - {{ series_id }} - {{ tvdb_ep_name }}{{ location | pathext }}&#39;
</code></pre></div>
El fichero básico no tiene mucha complejidad, la URL de nuestro FEED, las claves y url de nuestro transmission, rutas donde llegan los ficheros, la conexión al repositorio de thetvdb para que ponga el nombre a las series y por último que mueva el contenido descargado a la ruta definitiva.</p>
<p>Ahora sólo nos faltan dos cosas por hacer.</p>
<p>La primera es arrancar y dejar arrancando transmission:
<div class="highlight"><pre><span></span><code>[root@Jarvis ~]# systemctl start transmission
[root@Jarvis ~]# systemctl enable transmission
</code></pre></div>
Y automatizar flexget para que se ejecute cada cierto tiempo y mire lo que hay para descargar, lo que se está descargando y lo que se ha finalizado de descargar…</p>
<p>Y para esto lo mejor es emplear <code>crontab -e</code> del cual ya hemos hablado.</p>
<p>Una última nota, si queremos probar si nuestra configuración es correcta antes de poner todo esto en marcha:
<div class="highlight"><pre><span></span><code>[root@Jarvis .flexget]# flexget --test --logfile /var/log/flexget.log execute
2014-03-29 10:15 WARNING details sort-files Task didn&#39;t produce any entries. This is likely due to a misconfigured or non-functional input.
2014-03-29 10:15 VERBOSE details sort-files Summary - Accepted: 0 (Rejected: 0 Undecided: 0 Failed: 0)
2014-03-29 10:15 INFO transmission rss Trying to connect to transmission...
2014-03-29 10:15 INFO transmission rss Successfully connected to transmission.
2014-03-29 10:15 VERBOSE details rss Produced 14 entries.
2014-03-29 10:15 VERBOSE task rss REJECTED: \`True Detective 1x08 Form and Void\` by quality plugin because hdtv h264 does not match quality requirement [&lt;Requirements(720p+)&gt;]
2014-03-29 10:15 VERBOSE task rss REJECTED: \`True Detective 1x07 After You&#39;ve Gone\` by quality plugin because hdtv h264 does not match quality requirement [&lt;Requirements(720p+)&gt;]
2014-03-29 10:15 VERBOSE task rss REJECTED: \`True Detective 1x06 Haunted Houses\` by quality plugin because hdtv h264 does not match quality requirement [&lt;Requirements(720p+)&gt;]
2014-03-29 10:15 VERBOSE task rss REJECTED: \`True Detective 1x05 The Secret Fate Of All Life\` by quality plugin because hdtv h264 does not match quality requirement [&lt;Requirements(720p+)&gt;]
2014-03-29 10:15 VERBOSE task rss REJECTED: \`True Detective 1x04 Who Goes There?\` by quality plugin because hdtv h264 does not match quality requirement [&lt;Requirements(720p+)&gt;]
2014-03-29 10:15 VERBOSE task rss REJECTED: \`True Detective 1x03 The Locked Room\` by quality plugin because hdtv h264 does not match quality requirement [&lt;Requirements(720p+)&gt;]
2014-03-29 10:15 VERBOSE task rss REJECTED: \`True Detective 1x02\` by quality plugin because hdtv h264 does not match quality requirement [&lt;Requirements(720p+)&gt;]
2014-03-29 10:15 VERBOSE task rss ACCEPTED: \`True Detective 1x02 720p\` by series plugin because choosing best available quality
2014-03-29 10:15 VERBOSE task rss ACCEPTED: \`True Detective 1x05 The Secret Fate Of All Life 720p\` by series plugin because choosing best available quality
2014-03-29 10:15 VERBOSE task rss ACCEPTED: \`True Detective 1x07 After You&#39;ve Gone 720p\` by series plugin because choosing best available quality
2014-03-29 10:15 VERBOSE task rss ACCEPTED: \`True Detective 1x08 Form and Void 720p\` by series plugin because choosing best available quality
2014-03-29 10:15 VERBOSE task rss ACCEPTED: \`True Detective 1x04 Who Goes There? 720p\` by series plugin because choosing best available quality
2014-03-29 10:15 VERBOSE task rss ACCEPTED: \`True Detective 1x06 Haunted Houses 720p\` by series plugin because choosing best available quality
2014-03-29 10:15 VERBOSE task rss ACCEPTED: \`True Detective 1x03 The Locked Room 720p\` by series plugin because choosing best available quality
2014-03-29 10:15 VERBOSE details rss Summary - Accepted: 7 (Rejected: 7 Undecided: 0 Failed: 0)
2014-03-29 10:15 INFO transmission rss Would add magnet:?xt=urn:btih:2DB3E1CAA8CDE3D9651C7B539CA887F714322E35&amp;dn=True+Detective+S01E08+720p+HDTV+x264+2HD&amp;tr=udp://tracker.openbittorrent.com:80&amp;tr=udp://tracker.to transmission
2014-03-29 10:15 INFO transmission rss Would add magnet:?xt=urn:btih:41AFF51BA027C488280E248511A9C13C11A9FA11&amp;dn=True+Detective+S01E07+720p+HDTV+x264+KILLERS&amp;tr=udp://tracker.openbittorrent.com:80&amp;tr=udp://tracker.to transmission
2014-03-29 10:15 INFO transmission rss Would add magnet:?xt=urn:btih:5D7AF918D4CA00709DB6F6E924217E57A6143BD0&amp;dn=True+Detective+S01E06+720p+HDTV+x264+2HD&amp;tr=udp://tracker.openbittorrent.com:80&amp;tr=udp://tracker.to transmission
2014-03-29 10:15 INFO transmission rss Would add magnet:?xt=urn:btih:7D1795E2E575AA68F57E674F6DD594E847A6A851&amp;dn=True+Detective+S01E05+720p+HDTV+x264+KILLERS&amp;tr=udp://tracker.openbittorrent.com:80&amp;tr=udp://tracker.to transmission
2014-03-29 10:15 INFO transmission rss Would add magnet:?xt=urn:btih:ABE95E4C2BF49C1FD99EBA0DBE0591B965439042&amp;dn=True+Detective+S01E04+720p+HDTV+x264+KILLERS&amp;tr=udp://tracker.openbittorrent.com:80&amp;tr=udp://tracker.to transmission
2014-03-29 10:15 INFO transmission rss Would add magnet:?xt=urn:btih:A7D60019E259A95921B1310509783DE7AC80ECD9&amp;dn=True+Detective+S01E03+720p+HDTV+x264+KILLERS&amp;tr=udp://tracker.openbittorrent.com:80&amp;tr=udp://tracker.to transmission
2014-03-29 10:15 INFO transmission rss Would add magnet:?xt=urn:btih:C6545AC26191F13DF03B06FC42DC485BA92384C4&amp;dn=True+Detective+S01E02+720p+HDTV+x264+KILLERS&amp;tr=udp://tracker.openbittorrent.com:80&amp;tr=udp://tracker.to transmission
2014-03-29 10:15 INFO manager Removed test database
</code></pre></div></p>
<h2 id="exportacion-samba">Exportación SAMBA<a class="headerlink" href="#exportacion-samba" title="Permanent link">&para;</a></h2>
<p>Ahora vamos a exportar el contenido de algunas de nuestras carpetas para hacerlos visibles en nuestros escritorios MAC Osx.</p>
<p>Hay otras alternativas de conexión, como <a href="http://es.wikipedia.org/wiki/NFS">NFS</a> , depende de para que algunas son más robustas y otras my fáciles de configurar.</p>
<p>Si bien a día de hoy parece que Samba (http://es.wikipedia.org/wiki/Samba_(programa)) ha cogido mucha fuerza y es difícil encontrar un dispositivo que no pueda realizar una conexión con este protocolo.</p>
<p>Vamos a exportar una serie de directorios de nuestra RPI para montarlos luego en el MAC y poder hacer operativas tales como el uso de Hazel, Automator, o simplemente visualizar los ficheros e incluso reproducirlos en nuestro MAC Osx.</p>
<p>Primero, tenemos que instalar Samba
<div class="highlight"><pre><span></span><code>[root@Jarvis ~]# pacman -S samba

resolviendo dependencias...
verificando conflictos...

Paquetes (16): cifs-utils-6.2-1 gamin-0.1.10-8 iniparser-3.1-4 ldb-1.1.16-1 libbsd-0.6.0-2 libcap-ng-0.7.3-1 libcups-1.7.1-4 libjpeg-turbo-1.3.0-4 libpng-1.6.10-1 libtiff-4.0.3-4 libwbclient-4.1.6-1
smbclient-4.1.6-1 talloc-2.1.0-1 tdb-1.2.12-1 tevent-0.9.21-2 samba-4.1.6-1
Tamaño Total de Descarga: 10,25 MiB
Tamaño Total Instalado: 53,20 MiB
:: ¿Continuar con la instalación? [S/n]
:: Recuperando paquetes ...
libjpeg-turbo-1.3.0-4-armv6h 240,1 KiB 416K/s   00:01 [################] 100%
…

(15/16) instalando smbclient                          [################] 100%
(16/16) instalando samba                              [################] 100%
</code></pre></div>
Y lo configuramos, el fichero de configuración de ejemplo de samba es una locura… recurrimos a una plantilla:
<div class="highlight"><pre><span></span><code>[root@Jarvis ~]# vi /etc/samba/smb.conf
[global]
workgroup = JarvisGRP
security = user
load printers = no

[DescargasDirectas]
path = /srv/downloads/Directas
public = no
writeable = yes
browseable = yes
valid users = root
</code></pre></div>
Arrancamos samba y lo dejamos corriendo como proceso en arranque de máquina:
<div class="highlight"><pre><span></span><code>[root@Jarvis ~]# systemctl start smbd nmbd
[root@Jarvis ~]# systemctl enable smbd nmbd
ln -s &#39;/usr/lib/systemd/system/samba.service&#39; &#39;/etc/systemd/system/multi-user.target.wants/samba.service&#39;
</code></pre></div>
Y como tenemos la seguridad por usuario, debemos crear el usuario en las tablas de usuarios propias de samba, así que:
<div class="highlight"><pre><span></span><code>[root@Jarvis ~]# smbpasswd -a root
New SMB password:
Retype new SMB password:
Added user root.
</code></pre></div>
Para conectarnos desde nuestros Mac Osx a esta carpeta compartida, tenemos que abrir una nueva ventana de Finder CMD+N y a continuación conectarnos al servidor CMD+K</p>
<p>En la conexión del servidor pondremos:</p>
<p><code>smb://192.168.1.20/DescargasDirectas</code></p>
<p>Nos pedirá usuario y clave, que serán el usuario que hemos configurados en <code>smb.conf</code> y la clave la que hemos generado con <code>smbpasswd</code> y a partir de ese momento se comportará como una carpeta local al sistema Osx.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2019-2023 Antonio Hernan
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.top"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.51198bba.min.js"></script>
      
    
  </body>
</html>