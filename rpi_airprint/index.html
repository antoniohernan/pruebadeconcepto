
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Un informático de siempre… en estos tiempos modernos">
      
      
      
        <link rel="canonical" href="https://pruebadeconcepto.es/rpi_airprint/">
      
      
        <link rel="prev" href="../rpi_downmanager/">
      
      
        <link rel="next" href="../rpi_backupserver/">
      
      <link rel="icon" href="../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.4">
    
    
      
        <title>Instalando una RaspberryPI todo uso… en 2014 (parte 9) – práctico 3 - Servidor AirPrint - Prueba de Concepto</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.240905d7.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#servidor-de-impresion" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Prueba de Concepto" class="md-header__button md-logo" aria-label="Prueba de Concepto" data-md-component="logo">
      
  <img src="../images/logo_white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Prueba de Concepto
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Instalando una RaspberryPI todo uso… en 2014 (parte 9) – práctico 3 - Servidor AirPrint
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_3" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_3">
          
            <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Inicio
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../gen_hello-world/" class="md-tabs__link">
        Generales
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../infv_guybrush/" class="md-tabs__link">
        Informática Viejuna
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../tec_actionsec2/" class="md-tabs__link">
        Tecnología
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../rpi_intro/" class="md-tabs__link md-tabs__link--active">
        RaspberryPi
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../about_acercademi/" class="md-tabs__link">
        Acerca de
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Prueba de Concepto" class="md-nav__button md-logo" aria-label="Prueba de Concepto" data-md-component="logo">
      
  <img src="../images/logo_white.png" alt="logo">

    </a>
    Prueba de Concepto
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Inicio
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Generales
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Generales
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gen_hello-world/" class="md-nav__link">
        Hola mundo!!
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Informática Viejuna
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Informática Viejuna
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../infv_guybrush/" class="md-nav__link">
        ¡Hola! Me llamo Guybrush Threepwood, ¡y quiero ser un pirata!
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../infv_discossd/" class="md-nav__link">
        ¿Y esto tiene discos SSD?
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Tecnología
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Tecnología
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tec_actionsec2/" class="md-nav__link">
        Envía ficheros desde Github a EC2 con actions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          RaspberryPi
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          RaspberryPi
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_intro/" class="md-nav__link">
        Introducción
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_install_i/" class="md-nav__link">
        Instalación Básica I
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_install_ii/" class="md-nav__link">
        Instalación Básica II
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_securizacion/" class="md-nav__link">
        Securización
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_backup/" class="md-nav__link">
        Copias de Seguridad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_wordpress1/" class="md-nav__link">
        Práctico 1 - Wordpress 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_wordpress2/" class="md-nav__link">
        Práctico 1 - Wordpress 2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_downmanager/" class="md-nav__link">
        Práctico 2 - Gestor de Descargas
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Práctico 3 - Servidor Impresión/AirPrint
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Práctico 3 - Servidor Impresión/AirPrint
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#servidor-de-impresion" class="md-nav__link">
    Servidor de Impresión
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instalacion" class="md-nav__link">
    Instalación
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion" class="md-nav__link">
    Configuración
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iniciamos-el-servicio-de-impresion" class="md-nav__link">
    Iniciamos el servicio de impresión
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion-impresora" class="md-nav__link">
    Configuración impresora
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compartiendo-esta-impresora-para-osx" class="md-nav__link">
    Compartiendo esta impresora para OSX
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#airprint" class="md-nav__link">
    AirPrint
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_backupserver/" class="md-nav__link">
        Práctico 4 - Servidor Copias de Seguridad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_domotica/" class="md-nav__link">
        Práctico 5 - Domótica, Cámaras IP y RaZberry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_mediacenter/" class="md-nav__link">
        Práctico 6 - Media Center
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_emulador/" class="md-nav__link">
        Práctico 7 - Emulación de juegos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_alternativas/" class="md-nav__link">
        Alternativas a RPi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_apendices1.md" class="md-nav__link">
        Apéndices (I) - Reinicio de router
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_apendice2/" class="md-nav__link">
        Apéndices (II) - XBMC con MariaDB para BBDD distribuida
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpi_apendice3/" class="md-nav__link">
        Apéndices (III) - Administración con Webmin
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Acerca de
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Acerca de
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../about_acercademi/" class="md-nav__link">
        Acerca de mi y mis pruebas de concepto
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../about_privacy-policy/" class="md-nav__link">
        Política de privacidad
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#servidor-de-impresion" class="md-nav__link">
    Servidor de Impresión
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instalacion" class="md-nav__link">
    Instalación
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion" class="md-nav__link">
    Configuración
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iniciamos-el-servicio-de-impresion" class="md-nav__link">
    Iniciamos el servicio de impresión
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion-impresora" class="md-nav__link">
    Configuración impresora
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compartiendo-esta-impresora-para-osx" class="md-nav__link">
    Compartiendo esta impresora para OSX
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#airprint" class="md-nav__link">
    AirPrint
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Práctico 3 - Servidor Impresión/AirPrint</h1>

<h2 id="servidor-de-impresion">Servidor de Impresión<a class="headerlink" href="#servidor-de-impresion" title="Permanent link">&para;</a></h2>
<p>Vamos a instalar en nuestra RPI el software necesario para convertirla en una estación de impresión en red, así como en un servidor de impresión compatible con AirPrint.</p>
<p>De esta manera, nuestra impresora que no tiene ni Wifi ni es compatible con AirPrint pasaría a serlo.</p>
<p>Para todo esto vamos a emplear un software llamado <a href="http://es.wikipedia.org/wiki/Common_Unix_Printing_System">CUPS</a>, que fue inicialmente desarrollado por Easy Software Products, para ser comprado en 2002 por Apple, la cual licencio el software como GNU GPL, y empezó a implementarlo en sus sistemas Mac OSX a partir de la versión 10.2.</p>
<p>Así que cuando estamos imprimiendo en nuestros Mac OSX y pensamos en complejos controladores y demás… todo se reduce a lo mismo.. a CUPS corriendo por debajo muy bien presentado esos sí…</p>
<h2 id="instalacion">Instalación<a class="headerlink" href="#instalacion" title="Permanent link">&para;</a></h2>
<p>Vamos a instalar los paquetes que se corresponden a Cups, Cups-pdf (que nos permite realizar impresiones sobre pdf) y <a href="http://en.wikipedia.org/wiki/Gutenprint">Gutenprint</a> (que son los drivers para casi todas las impresoras).</p>
<p>Para poder hacer AirPrint necesitamos también instalar <a href="http://avahi.org">Avahi</a> , que no es más que un <a href="http://www.apple.com/es/support/bonjour/">Bonjour</a> (esto es sonará más), esto es, sirve para anunciar los servicios que tu equipo ofrece al resto de equipos de la red.</p>
<p>Instalamos todo entonces, con ayuda de <code>pacman</code> (se instala <code>python2</code> aunque ya lo teníamos instalado de antes, por sisólo quieres probar esto de la impresión…)</p>
<div class="highlight"><pre><span></span><code>[root@Jarvis ~]# pacman -Sy cups cups-pdf gutenprint avahi pycups python2

:: Sincronizando las bases de datos de paquetes...
core 153,6 KiB 464K/s 00:00    [###############] 100%
extra 2031,8 KiB 1628K/s 00:01 [###############] 100%
community está actualizado
alarm está actualizado
aur está actualizado
atención: avahi-0.6.31-11 está actualizado -- re-instalando
resolviendo dependencias...
verificando conflictos...
Paquetes (56): bc-1.06.95-1.1 cairo-1.12.16-1 colord-1.0.6-1 cups-filters-1.0.49-1 damageproto-1.2.1-2 dconf-0.18.0-1 elfutils-0.158-1 fixesproto-5.0-2 fontconfig-2.11.0-1 freetype2-2.5.3-2 ghostscript-9.10-3 graphite-1:1.2.4-1 harfbuzz-0.9.26-1 hicolor-icon-theme-0.13-1 jasper-1.900.1-10 js-17.0.0-1 kbproto-1.0.6-1 lcms2-2.5-2 libdrm-2.4.52-1 libgusb-0.1.6-1 libice-1.0.8-2 libpaper-1.1.24-7 libpciaccess-0.13.2-2 libsm-1.2.2-2 libvdpau-0.7-1 libx11-1.6.2-1 libxau-1.0.8-2 libxcb-1.10-1 libxdamage-1.1.4-1 libxdmcp-1.1.1-1 libxext-1.3.2-1 libxfixes-5.0.1-1 libxrender-0.9.8-1 libxshmfence-1.1-1 libxt-1.1.4-1 libxxf86vm-1.1.3-1 llvm-libs-3.4-1 mesa-10.1.0-4 mesa-libgl-10.1.0-4 nspr-4.10.4-1 openjpeg-1.5.1-2 pixman-0.32.4-1 polkit-0.112-1 poppler-0.24.5-1 qpdf-5.1.1-1 renderproto-0.11.1-2 shared-colorprofiles-0.1.5-1 wayland-1.4.0-1 xcb-proto-1.10-2 xextproto-.3.0-1 xf86vidmodeproto-2.3.1-2 xproto-7.0.25-1 avahi-0.6.31-11 cups-1.7.1-4 cups-pdf-2.6.1-2 gutenprint-5.2.9-2

Tamaño Total de Descarga: 52,90 MiB
Tamaño Total Instalado: 358,88 MiB
Tamaño neto a actualizar: 356,75 MiB
:: ¿Continuar con la instalación? [S/n] S
</code></pre></div>
<p>La instalación es un poco larga por la cantidad de paquetes que añade o actualiza en el sistema, pero no debe presentar problema alguno.</p>
<h2 id="configuracion">Configuración<a class="headerlink" href="#configuracion" title="Permanent link">&para;</a></h2>
<p>El fichero de configuración de cups está en <code>/etc/cups/cupsd.conf</code></p>
<p>Lo editamos para configurar el rango de direcciones IP que podrán hacer uso de su servicio WEB (y por tanto poder configurarlo por web desde otro equipo de la red), así como para dar permisos a la administración.
<code>[root@Jarvis ~]# vi /etc/cups/cupsd.conf</code>
Donde dice</p>
<p><div class="highlight"><pre><span></span><code># Only listen for connections from the local machine.
Listen localhost:631
</code></pre></div>
Por
<div class="highlight"><pre><span></span><code># Only listen for connections from the local machine.
Listen 0.0.0.0:631
</code></pre></div>
Y también añadimos el acceso desde la red local mediante la modificación de estas otras entradas:
<div class="highlight"><pre><span></span><code># Restrict access to the server...

&lt;Location /&gt;
Order allow,deny
&lt;/Location&gt;

# Restrict access to the admin pages...

&lt;Location /admin&gt;
Order allow,deny
&lt;/Location&gt;
</code></pre></div>
Por estas
<div class="highlight"><pre><span></span><code># Restrict access to the server...

&lt;Location /&gt;
Order allow,deny
Allow @LOCAL
&lt;/Location&gt;

# Restrict access to the admin pages...

&lt;Location /admin&gt;
Order allow,deny
Allow @LOCAL
&lt;/Location&gt;
</code></pre></div></p>
<h2 id="iniciamos-el-servicio-de-impresion">Iniciamos el servicio de impresión<a class="headerlink" href="#iniciamos-el-servicio-de-impresion" title="Permanent link">&para;</a></h2>
<p><code>[root@Jarvis ~]# systemctl start cups</code></p>
<p>Y probamos si tenemos accesos la IP de nuestra máquina y el puerto 631 para la consola (http://192.168.1.20:631)</p>
<h2 id="configuracion-impresora">Configuración impresora<a class="headerlink" href="#configuracion-impresora" title="Permanent link">&para;</a></h2>
<p>Conectamos nuestra impresora por USB a la RPI y entramos a la url antes mencionada.</p>
<p>Aquí tenemos que ir a la pestaña Administración.</p>
<p>Una vez entramos vemos Impresoras y el botón que dice Añadir Impresora.</p>
<p>Y directamente, en impresoras locales veremos dos, una posible impresora virtual basada en PDF (cups-pdf que hemos instalado), y nuestra impresora que es bastante probable que sea reconocida automáticamente.</p>
<p>En la siguiente página podemos cambiar si queremos el nombre al servidor de impresión para esta impresora, pero lo más importante es marcar la casilla inferior que dice <strong>Compartir esta impresora</strong>.</p>
<p>En la siguiente pantalla debemos escoger entre todos los modelos disponibles en nuestro en concreto, y pulsar el botón que está en la parte inferior de la pantalla que dice <strong>Añadir Impresora</strong>.</p>
<p>Y ahora, ya por fin, la última pantalla de configuración, donde escogemos el comportamiento por defecto de la impresora. Cambiamos el tipo de papel de “Carta/Letter” a A4 que es más común entre nosotros, y le indicamos que no modifique por norma las dimensiones del elemento a imprimir; pulsamos sobre Cambiar opciones predeterminadas.</p>
<p>Si queremos probar que funciona, desde la pestaña que dice Impresoras encontraremos nuestra impresora y un desplegable que dice Mantenimiento.</p>
<p>En ese desplegable escogemos Imprimir página de prueba y listo, veremos como la pantalla se va refrescando y nos muestra el estado de la cola de impresión según tenga esta actividad alguna.</p>
<h2 id="compartiendo-esta-impresora-para-osx">Compartiendo esta impresora para OSX<a class="headerlink" href="#compartiendo-esta-impresora-para-osx" title="Permanent link">&para;</a></h2>
<p>Si, lo sé, con OSX se puede instalar la impresora y compartirla al resto de la red Mac sin andarse con estos experimentos… Pero eso no es divertido…</p>
<p>Pero… espera… que aquí también es fácil, sólo tenemos que entrar en nuestro OSX en las Preferencias del Sistema, ahí en las Impresoras, y una vez que estemos allí, cuando pulsemos sobre el símbolo + encontraremos que nuestra <strong>impresora conectada a la RPI se está anunciando</strong>, la escogemos y dejamos que OSX termine de hacer el resto de cosas.</p>
<p>Es otra forma de convertir una impresora “no wifi” en una estación de impresión sin necesidad de tener un ordenador OSX encendido de continuo, con el gasto eléctrico que eso lleva (más el de la impresora en Stand-by…)</p>
<h2 id="airprint">AirPrint<a class="headerlink" href="#airprint" title="Permanent link">&para;</a></h2>
<p>Y aquí lo divertido de todo esto, poder utilizarla como impresora AirPrint para poder imprimir cosas desde nuestros iPhones e iPads.</p>
<p>La verdad es que no se me ocurren muchos ejemplos de porqué podamos necesitar esta funcionalidad, tan sólo se me viene a la cabeza la impresión de entradas que compres en la web y cosas similares, o imprimir una receta que tengas en pdf para no tener el iPad en la cocina al lado de los fogones.. etc.</p>
<p>Bien, vamos paso a paso, <strong>arrancamos el demonio de Avahi</strong></p>
<p><code>[root@Jarvis ~]# systemctl start avahi-daemon</code></p>
<p>Creamos el directorio para la instalación de los programas Python y descargamos el que nos genera la configuración para AirPrint:</p>
<div class="highlight"><pre><span></span><code>[root@Jarvis /]# mkdir /opt/airprint
[root@Jarvis /]# cd /opt/airprint
[root@Jarvis airprint]# wget -O airprint-generate.py --no-check-certificate https://raw.github.com/tjfontaine/airprintgenerate/master/airprint-generate.py

--2014-03-29 15:11:17-- https://raw.github.com/tjfontaine/airprint-generate/master/airprint-generate.py

Resolviendo raw.github.com (raw.github.com)... 185.31.16.133
Conectando con raw.github.com (raw.github.com)[185.31.16.133]:443... conectado.
Petición HTTP enviada, esperando respuesta... 200 OK
Longitud: 10093 (9,9K) [text/plain]
Grabando a: “airprint-generate.py” 100% [============================================================================================================&gt;]
10.093 --.-K/s en 0,003s
2014-03-29 15:11:18 (3,57 MB/s) - “airprint-generate.py” guardado [10093/10093]
</code></pre></div>
<p>Como no usamos Python sino que usamos Python2 tenemos que modificar este fichero que nos hemos descargado.</p>
<p>Para esto, lo editamos con vi y modificamos la primera línea, añadiendo un 2 al final para que quede así:</p>
<div class="highlight"><pre><span></span><code>#!/usr/bin/env python2
</code></pre></div>
<p>Vamos a ejecutar por tanto este script en Pyhton para ver que información no genera:
<div class="highlight"><pre><span></span><code>[root@Jarvis airprint]# chmod 755 airprint-generate.py
[root@Jarvis airprint]# ./airprint-generate.py
[root@Jarvis airprint]# mv AirPrint-Canon_MP140_series.service /etc/avahi/services
</code></pre></div></p>
<p>En la primera línea le hemos dado permisos de ejecución.</p>
<p>En la segunda lo ejecutamos y en la tercera vemos como se nos ha generado el servicio de nuestra impresora conectada (la Canon MP140 ;)), así que movemos este fichero de configuración del servicio a la ruta adecuada.</p>
<p>En caso de conectar posteriormente otra impresora pues sólo hay que repetir este paso para poder tener otra impresora sirviendo AirPrint.</p>
<p>Sólo nos queda reiniciar el demonio de Avahi y ver que reconozca nuestra impresora:
<div class="highlight"><pre><span></span><code>[root@Jarvis airprint]# systemctl restart avahi-daemon
[root@Jarvis airprint]# systemctl status avahi-daemon

avahi-daemon.service - Avahi mDNS/DNS-SD Stack
Loaded: loaded (/usr/lib/systemd/system/avahi-daemon.service; disabled)
Active: active (running) since sáb 2014-03-29 15:18:49 CET; 9s ago
mar 29 15:18:51 Jarvis avahi-daemon[1239]: Service &quot;AirPrint Canon_MP140_series @ Jarvis (/services/AirPrint-
Canon_MP140_series.service) successfully established.
</code></pre></div>
Y desde por ejemplo un iPad, podemos imprimir un PDF, usando el icono de compartir de Adobe Reader, veremos en <strong>Imprimir</strong> como sale nuestra “impresora AirPrint”.</p>
<p>O mientras estamos navegando con Safari, podemos usar el botón de compartir, escoger la opción de imprimir y ahí veremos nuestra impresora.</p>
<p>No es un sistema rápido, por que hay muchos intermediarios… mucha red, mucha conversiones, pero si tienes una impresora y no quieres invertir en una nueva con su Wifi, su AirPrint y demás, pues con la Rpi puedes además de hacer todo lo “otro” que hagas con ella, usarla como centro de impresión.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2019-2023 Antonio Hernan
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.top"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.19047be9.min.js"></script>
      
    
  </body>
</html>