{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"about_acercademi/","title":"Acerca de m\u00ed y mis pruebas de concepto","text":"<p>Antonio Hern\u00e1n</p> Hice de mi fascinaci\u00f3n y pasi\u00f3n por los ordenadores mi profesi\u00f3n. En general, me gusta cualquier cosa que se pueda conectar a la corriente y emita luces o sonidos. Desde hace m\u00e1s de \u00a0veinte a\u00f1os soy t\u00e9cnico de sistemas y por mis manos han pasado los sistemas operativos y plataformas hardware m\u00e1s variopintos. Inconformista por naturaleza, no me gustan las cosas tal como vienen de f\u00e1brica, siempre pienso en optimizar el rendimiento y en c\u00f3mo poder obtener un acceso al int\u00e9rprete en l\u00ednea de comandos, del cual me declara defensor frente a las denominadas \u201cmet\u00e1foras gr\u00e1ficas\u201d. Obsesionado con instalar ScummVM y juegos retro en cualquier cachivache que cae en mis manos. <p>S\u00edgueme en las redes:</p>"},{"location":"about_privacy-policy/","title":"Pol\u00edtica de Privacidad","text":""},{"location":"about_privacy-policy/#quienes-somos","title":"Quienes somos","text":"<p>La direcci\u00f3n de nuestra web es: http://pruebadeconcepto.es.</p>"},{"location":"about_privacy-policy/#que-datos-personales-recogemos-y-por-que-los-recogemos","title":"Qu\u00e9 datos personales recogemos y por qu\u00e9 los recogemos","text":""},{"location":"about_privacy-policy/#comentarios","title":"Comentarios","text":"<p>Cuando los visitantes dejan comentarios en la web, recopilamos los datos que se muestran en el formulario de comentarios, as\u00ed como la direcci\u00f3n IP del visitante y la cadena de agentes de usuario del navegador para ayudar a la detecci\u00f3n de spam.</p> <p>Una cadena an\u00f3nima creada a partir de tu direcci\u00f3n de correo electr\u00f3nico (tambi\u00e9n llamada hash) puede ser proporcionada al servicio de Gravatar para ver si la est\u00e1s usando. La pol\u00edtica de privacidad del servicio Gravatar est\u00e1 disponible aqu\u00ed: https://automattic.com/privacy/. Despu\u00e9s de la aprobaci\u00f3n de tu comentario, la imagen de tu perfil es visible para el p\u00fablico en el contexto de su comentario.</p>"},{"location":"about_privacy-policy/#medios","title":"Medios","text":"<p>Si subes im\u00e1genes a la web deber\u00edas evitar subir im\u00e1genes con datos de ubicaci\u00f3n (GPS EXIF) incluidos. Los visitantes de la web pueden descargar y extraer cualquier dato de localizaci\u00f3n de las im\u00e1genes de la web.</p>"},{"location":"about_privacy-policy/#formularios-de-contacto","title":"Formularios de contacto","text":""},{"location":"about_privacy-policy/#cookies","title":"Cookies","text":"<p>Si dejas un comentario en nuestro sitio puedes elegir guardar tu nombre, direcci\u00f3n de correo electr\u00f3nico y web en cookies. Esto es para tu comodidad, para que no tengas que volver a rellenar tus datos cuando dejes otro comentario. Estas cookies tendr\u00e1n una duraci\u00f3n de un a\u00f1o.</p> <p>Si tienes una cuenta y te conectas a este sitio, instalaremos una cookie temporal para determinar si tu navegador acepta cookies. Esta cookie no contiene datos personales y se elimina al cerrar el navegador.</p> <p>Cuando inicias sesi\u00f3n, tambi\u00e9n instalaremos varias cookies para guardar tu informaci\u00f3n de inicio de sesi\u00f3n y tus opciones de visualizaci\u00f3n de pantalla. Las cookies de inicio de sesi\u00f3n duran dos d\u00edas, y las cookies de opciones de pantalla duran un a\u00f1o. Si seleccionas \"Recordarme\", tu inicio de sesi\u00f3n perdurar\u00e1 durante dos semanas. Si sales de tu cuenta, las cookies de inicio de sesi\u00f3n se eliminar\u00e1n.</p> <p>Si editas o publicas un art\u00edculo se guardar\u00e1 una cookie adicional en tu navegador. Esta cookie no incluye datos personales y simplemente indica el ID del art\u00edculo que acabas de editar. Caduca despu\u00e9s de 1 d\u00eda.</p>"},{"location":"about_privacy-policy/#contenido-incrustado-de-otros-sitios-web","title":"Contenido incrustado de otros sitios web","text":"<p>Los art\u00edculos de este sitio pueden incluir contenido incrustado (por ejemplo, v\u00eddeos, im\u00e1genes, art\u00edculos, etc.). El contenido incrustado de otras web se comporta exactamente de la misma manera que si el visitante hubiera visitado la otra web.</p> <p>Estas web pueden recopilar datos sobre ti, utilizar cookies, incrustar un seguimiento adicional de terceros, y supervisar tu interacci\u00f3n con ese contenido incrustado, incluido el seguimiento de tu interacci\u00f3n con el contenido incrustado si tienes una cuenta y est\u00e1s conectado a esa web.</p>"},{"location":"about_privacy-policy/#analitica","title":"Anal\u00edtica","text":""},{"location":"about_privacy-policy/#con-quien-compartimos-tus-datos","title":"Con qui\u00e9n compartimos tus datos","text":"<p>No comparto datos.  </p>"},{"location":"about_privacy-policy/#cuanto-tiempo-conservamos-tus-datos","title":"Cu\u00e1nto tiempo conservamos tus datos","text":"<p>Si dejas un comentario, el comentario y sus metadatos se conservan indefinidamente. Esto es para que podamos reconocer y aprobar comentarios sucesivos autom\u00e1ticamente en lugar de mantenerlos en una cola de moderaci\u00f3n.</p> <p>De los usuarios que se registran en nuestra web (si los hay), tambi\u00e9n almacenamos la informaci\u00f3n personal que proporcionan en su perfil de usuario. Todos los usuarios pueden ver, editar o eliminar su informaci\u00f3n personal en cualquier momento (excepto que no pueden cambiar su nombre de usuario). Los administradores de la web tambi\u00e9n pueden ver y editar esa informaci\u00f3n.</p>"},{"location":"about_privacy-policy/#que-derechos-tienes-sobre-tus-datos","title":"Qu\u00e9 derechos tienes sobre tus datos","text":"<p>Si tienes una cuenta o has dejado comentarios en esta web, puedes solicitar recibir un archivo de exportaci\u00f3n de los datos personales que tenemos sobre ti, incluyendo cualquier dato que nos hayas proporcionado. Tambi\u00e9n puedes solicitar que eliminemos cualquier dato personal que tengamos sobre ti. Esto no incluye ning\u00fan dato que estemos obligados a conservar con fines administrativos, legales o de seguridad.</p>"},{"location":"gen_hello-world/","title":"Hola Mundo!!! (otra vez)","text":"<p>Y volvemos a la carga con otro blog.</p> <p>Prometo que este va a durar m\u00e1s de.. no se.. tres entradas?? esa es la media de los \u00faltimos cuatro o cinco blogs, tanto personales como las contribuciones con otros medios.</p> <p>Hace muchos a\u00f1os, cuando era podcaster, hab\u00eda unas leyes no escritas donde se defin\u00eda que un podcast tomaba tal entidad cuando ten\u00eda al menos 3 episodios emitidos (no recuerdo si contando o no con el episodio piloto, que sol\u00eda ser un desastre).</p> <p>Ahora pienso que en eso tampoco fui muy constante, mis podcast personales llegaron a poco: uno al piloto, otro a los tres episodios y el podcast de GUM (Grupo de Usuarios MAC) con el que colaboraba lo abandon\u00e9 con 4 episodios... soy un t\u00edo de records!!!</p>"},{"location":"gen_hello-world/#por-que-pruebadeconcepto","title":"\u00bfPor qu\u00e9 pruebadeconcepto?","text":"<p>Con tantos a\u00f1os en este mundillo como llevo vuelvo la vista atr\u00e1s y veo que las mejores ideas, los mejores productos, lo que m\u00e1s me ha gustado hacer y lo que m\u00e1s \u00e9xitos o satisfacciones personales me ha dado siempre ha sido cuando he estado \"cacharreando\", o dicho finamente, haciendo pruebas de concepto, incluso a veces pagadas como tales.</p> <p>En innumerables ocasiones las pruebas de tal tecnolog\u00eda, o tal producto, de esta o aquella configuraci\u00f3n han resultado soluciones que bien han valido las horas invertidas (aunque algunos jefes no lo terminaban de ver as\u00ed, pobres.. \u00bfque ser\u00e1 de ellos??) y que hemos \"estirado\" hasta la saciedad, o incluso hemos visto como fabricantes de los llamados grandes adoptaban como la soluci\u00f3n recomendada, igual o muy similar a la que nuestros \"cacharreos\" sacaban adelante.</p>"},{"location":"gen_hello-world/#y-por-que-nsupdateinfo","title":"\u00bfY por qu\u00e9 nsupdate.info?","text":"<p>Porque es gratis, sin necesidad de entrar cada dos por tres a validar nada, me permite tener esta instancia EC2 (de la free-tier por supuesto) referenciada como veis, incluso con un certificado SSL, y todo por el m\u00f3dico precio de 0\u20ac al a\u00f1o... a ver lo que dura esto arriba.</p> <p>En breve empezamos con las entradas interesantes, que esta como introducci\u00f3n ya no da para m\u00e1s.</p> <p>Para contactar conmigo antonio.hernan AT gmail.com</p>"},{"location":"infv_discossd/","title":"\u00bfY esto tiene discos SSD?","text":"<p>La muerte reciente de Eduardo Punset me ha tra\u00eddo a la cabeza cuando en mi empresa gestion\u00e1bamos uno de sus portales de ayuda. El portal iba, como solemos decir coloquialmente, como el ojete, y vino la t\u00edpica reuni\u00f3n Comerciales-Desarrollo-Sistemas para tirarnos los trastos a la cabeza y localizar al culpable.</p> <p></p> <p>Aparecieron frases c\u00e9lebres, desgastadas por el uso...</p> <p>\"En desarrollo el portal vuela...\" \"En mi entorno local del port\u00e1til va como un tiro...\" \"\u00bfY si le metemos m\u00e1s memoria al servidor? \u00bfle ponemos m\u00e1s CPU?\" \"\u00bfTienen todos los parches?\"</p> <p>T\u00edpicas todas ellas de personas con ninguna o muy poca experiencia que apenas aciertan a copiar y pegar c\u00f3digo encontrado en StackOverFlow.</p> <p>Y entonces soltaron esta, que me hizo saltar del sitio:</p> <p>\"\u00bfPero ese servidor tiene los discos SSD no?\", claro que si majadero, este y todos los de ese CPD, valen m\u00e1s sus cabinas de discos que tus dos ri\u00f1ones vendidos al mercado negro...</p> <p>Efectivamente, era un problema de codificaci\u00f3n (again), que en desarrollo o en local con apenas 10 entradas funciona todo como un avi\u00f3n, pero que en producci\u00f3n con algunas decenas de miles de entradas ese bucle que haces tray\u00e9ndote toda la informaci\u00f3n sin filtrar mata al portal al segundo usuario.</p> <p>Por supuesto que la soluci\u00f3n no sirvi\u00f3 para nada, meses despu\u00e9s con otro portal similar los mismos problemas, el c\u00f3digo era un copia/pega y segu\u00edan ah\u00ed las deficiencias de siempre, no supieron ni reutilizar el c\u00f3digo.</p> <p>Pero esta vez la reuni\u00f3n la empec\u00e9 yo y dej\u00e9 claro que los discos eran SSD, y devolv\u00ed el rev\u00e9s preguntando primero si su aplicaci\u00f3n estaba preparada para soportar tanta velocidad en disco.</p>"},{"location":"infv_guybrush/","title":"\u00a1Hola! Me llamo Guybrush Threepwood, \u00a1y quiero ser un pirata!","text":"<p>Anda que no ha llovido... y eso que Monkey Island no fue ni mucho menos el primer contacto que tuve con un ordenador, pero a buen seguro que fue el que m\u00e1s me marc\u00f3.</p> <p>No tuve la suerte de tener un ZX, ni siquiera un Amstrad, en esto fui unos meses con retraso respecto a los vecinos, un a\u00f1o todo lo m\u00e1s y entr\u00e9 directamente en el mundillo de las computadoras con un MSX, y su correspondiente unidad de cinta Computone (y ese destornillador para ajustar el azimut!!!)</p> <p></p> <p>Fui el rey del barrio, con los cartuchos que cargaban al instante, que de horas con el Kung-Fu Master!!.</p> <p>Luego siguieron equipos m\u00e1s o menos potentes, recuerdo el primer equipo con Intel, un Bondwell 38 de 1986, que ten\u00eda un disco duro de nada menos que 20MB, con eso era el rey del barrio.</p> <p>Hay sonidos y luces que no se olvidan, el arranque de esta m\u00e1quina, con el disco duro que cog\u00eda revoluciones poco a poco y parec\u00eda que la turbina de un avi\u00f3n se hab\u00eda colado en el cuarto, y los destellos y estelas de la pantalla de f\u00f3sforo verde.</p> <p>Recuerdos que est\u00e1n casi a la misma altura que los sonidos de un modem de 9600 baudios (\u00bfbaudios?, los j\u00f3venes que no diferencian un bit de un byte ni saben que eso existe..) y sus luces intermitentes con el cuarto a oscuras, que fueron la mayor\u00eda de mis \"discotecas\" de juventud.</p> <p></p> <p>Los chicos de hoy en d\u00eda, si no tienen equipos que generan miles de millones de tri\u00e1ngulos por segundo y texturas reales... pues no les vale nada.</p> <p>Nunca sabr\u00e1n la relaci\u00f3n de un pollo de goma y una polea, ni disfrutaran de esta maravilla de banda sonora tan de 8bits.</p> <p>Tranquilos, nunca es tarde, si quieres disfrutar de esta aventura gr\u00e1fica y de otras muchas contempor\u00e1neas \u00e9chale un vistazo a ScummVM\u00a0y localiza las Roms.</p> <p>Disfruta!!</p>"},{"location":"rpi_install_i/","title":"Instalando una RaspberryPI todo uso\u2026 en 2014 (parte 2) - Instalaci\u00f3n b\u00e1sica (I)","text":""},{"location":"rpi_install_i/#por-donde-empiezo","title":"\u00bfPor donde empiezo?","text":"<p>Lo primero que deber\u00edas pensar es \u00bfque voy a hacer con esto?. No es lo mismo tratar de montar un servidor de WordPress, que un centro multimedia, que un gestor de descargas u otra cosa. Tambi\u00e9n tienes que pensar en la cantidad de tiempo que le quieres dedicar y lo que quieres profundizar en la tarea. Lo mismo que antes, no es lo mismo querer poner una imagen de las del tipo \"todo hecho\" y no perder m\u00e1s que 5 minutos configurando, que hacer una instalaci\u00f3n desde base e ir creando tu, t\u00fa propio entorno. Si quieres, para empezar puedes probar las distribuciones ya hechas y ver que por lo menos esto funciona, y luego ya puedes seguir leyendo el resto donde usar\u00e9 una distribuci\u00f3n algo m\u00e1s compleja.</p>"},{"location":"rpi_install_i/#alternativas","title":"\u00bfAlternativas?","text":"<p>Un mont\u00f3n!!!, y cada d\u00eda m\u00e1s. Tienes distribuciones basadas en BSD, alguna versi\u00f3n de Android y otra muchas basadas en diferentes distribuciones\u00a0de Linux, como son Debian, Arch Linux y Fedora (algo me dejo seguro...) No busques la famosa Ubuntu por que como tal no existe, Cannonical hace tiempo que estableci\u00f3 su m\u00ednimo de\u00a0hardware para las distribuciones de Ubuntu basadas en procesadores ARM\u00a0en los\u00a0micros ARM v7, nuestra Pi es un ARM v6, no hay mucho que hacer.</p> <p>Cada distribuci\u00f3n tiene sus pros y sus contras, e incluso con el tiempo te vuelves un poco \"fan\" de alguna en concreto\u00a0que seguro que no es la mejor en su campo, pero que es con la que mejor te \u00a0desenvuelves. En mi caso, y la que vais a ver a lo largo de todo este texto es ARCH Linux, en su distribuci\u00f3n para microprocesadores ARM (el de\u00a0nuestra Pi, un v6). Para la descarga de la imagen ISO original, nada mejor que la p\u00e1gina de la Fundaci\u00f3n.</p>"},{"location":"rpi_install_i/#y-eso-de-noobs","title":"\u00bfY eso de NOOBS?","text":"<p>Pues esto es relativamente reciente, de Septiembre-Octubre de 2013. (recordad... esto se escribi\u00f3 en 2014!!). Consiste en que te descargas una imagen muy peque\u00f1a, y una vez puesta en la Pi, conectada a red y conectada\u00a0a un teclado y video por HDMI, arranca y se empieza a descargar la imagen definitiva. Algo as\u00ed como los ejecutables de instalaci\u00f3n que se emplean en Windows (argggg), que ocupa muy poco y que\u00a0cuando los ejecutas te das cuenta que se pone a descargar el software real y se pega la tira de tiempo descargando y\u00a0venga a bajar megas y megas. Tambi\u00e9n tienes la opci\u00f3n de utilizar una imagen NOOB que tiene las distribuciones casi completas y no necesita de esta\u00a0descarga. Es una facilidad, muy acertada, que nos dan ahora por si no quieres complicaciones de ning\u00fan tipo. No es que no recomiende su uso, pero a mi estas cosas no me gustan, las cosas que vienen ya hechas o que te lo\u00a0hacen todo ellos y yo no somos muy amigos. No digo que no funcione, por que lo he probado y funciona bastante bien, pero as\u00ed no aprendes nada.</p>"},{"location":"rpi_install_i/#entonces-arch-linuxpor-que","title":"\u00bfEntonces ARCH Linux?\u00bfPor qu\u00e9?","text":"<p>Bien, ARCH es una distribuci\u00f3n que con su sistema de liberaci\u00f3n de paquetes me tiene encantado, es lo que se llama\u00a0un Rolling Release, esto es, seg\u00fan sale un nuevo parche para un componente este se libera y te lo\u00a0individualmente. No tienes por tanto que aguantarte con un problema en un componente como pasa con otras distribuciones,\u00a0llamadas Point Release, que sacan versiones estables cada cierto tiempo (en el caso de Debia hablamos de a\u00f1os...). Por otro lado, esas versiones estables suelen implicar la reinstalaci\u00f3n completa de la tarjeta, mientras que con una\u00a0rolling release instalas la base y luego a base de actualizaciones te mantienes al d\u00eda, bueno, casi, esto es como dir\u00eda\u00a0un f\u00edsico te\u00f3rico, en condiciones ideales de temperatura, presi\u00f3n y en vac\u00edo... Tampoco pens\u00e9is que ARCH es un mundo ideal, son famosas sus meteduras de pata, como cuando dieron el paso\u00a0definitivo para abandonar Init de BSD por systemd, o cuando cambiaron en verano de 2013 el punto de montaje de\u00a0binarios... y m\u00e1s recientemente con los cambios en la distribuci\u00f3n de las particiones del disco (tarjeta SD m\u00e1s bien). En cualquiera de esos casos, si no andas un poco pendiente te puedes encontrar con un sistema in\u00fatil que no arranca. Pero tranquilos, que el apartado de backup / restauraci\u00f3n est\u00e1 un poco m\u00e1s abajo para que durm\u00e1is mejor.</p>"},{"location":"rpi_install_i/#previos-a-la-instalacion","title":"Previos a la instalaci\u00f3n","text":"<p>Nos descargamos la \u00faltima imagen, desde\u00a0aqu\u00ed\u00a0a nuestro equipo. Tenemos nuestra Pi desconectada del adaptador de corriente, conectada a nuestro router por un cable ethernet, y\u00a0nada m\u00e1s, no necesitamos video por el momento, ni siquiera teclado rat\u00f3n, vamos a hacerlo todo por SSH</p> <p>Vas a necesitar acceso a la URL de administraci\u00f3n de tu router, por que necesitas saber que direcci\u00f3n IP ha asignado\u00a0tu DHCP a la MAC de la Pi, eso si no eres como yo, que tengo muy restringida la asignaci\u00f3n de IPs en mi DHCP y soy\u00a0de los que asigna las IPs a mano, para tal MAC tal IP y ni una m\u00e1s. Necesitas tambi\u00e9n un lector de tarjetas SD, si es que tu equipo no tiene uno integrado, como pasa en muchos\u00a0port\u00e1tiles Mac y en los iMac. Yo he usado normalmente un adaptador USB que es como un pendrive, al que se le coloca la SD en un extremo, es\u00a0quiz\u00e1s algo m\u00e1s lento que un lector de tarjetas en condiciones, pero es mucho m\u00e1s c\u00f3modo de usar por sus\u00a0dimensiones. Y necesitas un software para pasar esa imagen Iso que te descargas a la tarjeta SD, yo uso Pi Filler, aunque si no lo quieres usar no te preocupes por que ahora te voy a contar como\u00a0hacerlo usando el Terminal, que no dista mucho a como este programilla lo hace.</p> <p>De este mismo desarrollador ten\u00e9is Pi Copier, que te vuelca (y comprime si lo\u00a0quieres) el contenido de la tarjeta SD a tu disco duro. Una buena opci\u00f3n a estudiar, sobre todo al principio cuando es\u00a0muy f\u00e1cil entre prueba y prueba cargarte toda la instalaci\u00f3n y tener que volver a empezar.</p>"},{"location":"rpi_install_i/#ahora-si-que-si-empezamos","title":"Ahora si que s\u00ed, empezamos","text":"<p>Vamos a pasar la imagen de nuestro sistema operativo, descargado en nuestro disco duro a la tarjeta SD. Antes de continuar, descomprime el .zip del fichero de la imagen, que sin eso no hacemos nada. Ahora, SIN haber puesto la tarjeta SD en el equipo ejectutamos Pi Filler, escogemos la imagen a instalar y nos indica\u00a0que debemos introducir la tarjeta SD, nos la reconocer\u00e1 y nos pregunta cual es (s\u00f3lo te puedes fiar por el nombre,\u00a0cuidado con esto que puedes borrar algo que no es...), una vez aceptadas las pantallas se pone a volcar la imagen en\u00a0la tarjeta y despu\u00e9s de un buen rato, m\u00ednimo media hora, ya estar\u00e1 lista para su uso.</p> <p>Si quieres hacer este mismo proceso por ti mismo, con el terminal de OSX los pasos a dar son estos:</p> <ul> <li>En primer lugar, abre el terminal, bien por que lo ejecutas a partir de tus aplicaciones o bien por que lo inicias desde\u00a0una b\u00fasqueda de Spotligth (CMD + Espacio, teclear terminal y aceptar con intro)</li> <li>Conectas la tarjeta SD al sistema.</li> <li>Identificamos cual es la tarjeta SD que hemos puesto</li> </ul> <pre><code>/dev/disk0 (internal, physical):\n   #:                       TYPE NAME                    SIZE       IDENTIFIER\n   0:      GUID\\_partition\\_scheme                        \\*1.0 TB     disk0\n   1:                        EFI EFI                     209.7 MB   disk0s1\n   2:                 Apple\\_APFS Container disk1         1000.0 GB  disk0s2\n\n/dev/disk1\n#: TYPE NAME\n0: FDisk\\_partition\\_scheme \\*32.0 GB\n1: DOS\\_FAT 32.0 GB\n</code></pre> <ul> <li>Como v\u00e9is, en mi caso mi SD es el disco que est\u00e1 en <code>/dev/disk1</code>. El tama\u00f1o de la tarjeta SD es una muy buena pista para identificarla.</li> <li>Ahora bien, por si ten\u00e9is alguna duda, ejecuntado este comando podr\u00e9is ver donde est\u00e1 montada la tarjeta en el\u00a0sistema de ficheros:</li> </ul> <pre><code>df -kh\nFilesystem Size Used Avail Capacity Mounted on \n/dev/disk0s2 233Gi 208Gi 25Gi 90% /\n...\n/dev/disk1s2 32Gi 17Mi 31Mi 1% /Volumes/Untitled\n</code></pre> <p>Todas las unidades externas en OSX se montan en <code>/Volumes</code>, y ese Untitled que aparece ah\u00ed es el nombre de nuestra tarjeta, que seguramente si est\u00e1 nueva sea ese. El disco es <code>/dev/disk1</code> y <code>s2</code> es el n\u00famero de la partici\u00f3n del disco (la s es de slice), por tanto nuestro disco es <code>/dev/disk1</code>, de la partici\u00f3n nos olvidamos por que al volcar la imagen de la distribuci\u00f3n se crea su propia tabla de particiones (que luego vamos a modificar, por supuesto).</p> <ul> <li>Ahora tenemos que desmontar la tarjeta SD, pero no expulsarla!!. Esto es, vamos a ver c\u00f3mo desaparece la unidad de nuestro escritorio, pero el dispositivo sigue conectado al equipo. <pre><code>sudo diskutil unmountDisk /dev/disk1\n</code></pre></li> </ul> <p>sudo es el comando para la ejecuci\u00f3n de comandos bajo otro usuario, su es de switch user y do de hacer, esto es, hacer con otro usuario. Aqu\u00ed en este comando que os he puesto es ejecutar con el usuario administrador el comando diskutil. Os va a pedir una clave antes de continuar, es la clave del usuario administrador de vuestro equipo.</p> <ul> <li>El comando para grabar la imagen en ese dispositvo es este: <pre><code>sudo dd bs=1m if=&lt;ficheroimagen.img&gt; of=/dev/disk1\n</code></pre></li> </ul> <p>El comando dd toma su nombre de Dataset Definition, y sirve para la manipulaci\u00f3n de la informaci\u00f3n a bajo nivel, para transferir datos, manipular raw data/devices (si, este RAW significa lo mismo que el RAW de las c\u00e1maras de fotos tan de moda \u00faltimamente, acceso en \"crudo\") y realizar algunas conversiones predefinidas. Los par\u00e1metros que pasamos al comando son bs=1m, que indica que use bloques de 1m para la lectura y escritura, if que le indica al comando el fichero (con ruta completa si es necesario) de origen, y of que le indica el destino de los datos, en nuestro caso el dispositivo de la tarjeta SD. Deb\u00e9is reemplazar  por el nombre y ruta de vuestro fichero de imagen, si por ejemplo lo ten\u00e9is en vuestras descargas de usuario tendr\u00e9is dos opciones para hacerlo. <p>La primera es cambiar el directorio actual de trabajo del terminal, en los sistemas OSX, aunque en el navegador de carpetas lo ve\u00e1is todo en castellano, en realidad todo eso \"por debajo\" no son m\u00e1s que carpetas del sistema operativo BSD, que est\u00e1n en ingl\u00e9s. Vuestra carpeta de descargas de usuario estar\u00e1 en ~/Downloads El s\u00edmbolo ~ (si, el gorrinillo de encima de las \u00d1 o virgulilla) se corresponde al caracter ASCII 126 y es un car\u00e1cter reservado que viene a indicar o contener la ruta del directorio HOME del usuario. En los equipos con Windows (arggg) se obtiene manteniendo pulsada la tecla ALT y tecleando 126 en el teclado num\u00e9rico. En los equipos con OSX se obtiene manteniendo pulsada la tecla ALT y pulsando la tecla \u00d1. En mi caso, que mi usuario se llama Nono, mi carpeta de descargas estar\u00e1 en la ruta <code>/Users/Nono/Downloads</code> \u00f3 bien en la ruta <code>~/Downloads</code>.</p> <ul> <li>As\u00ed que, ejecutamos esto para cambiar al directorio</li> </ul> <p>cd ~/Downloads</p> <p>El comando cd es Change Dir, cambia de directorio, y nos lleva al mismo sitio donde tenemos descargada nuestra\u00a0imagen, si este fichero se llama, por ejemplo archlinux-hf-2013-07-22.img, el comando dd que tenemos que ejecutar\u00a0es este:</p> <p>sudo dd bs=1m if=archlinux-hf-2013-07-22.img of=/dev/disk1</p> <p>Si no queremos hacer cambios de directorios y ejecutar el comando dd buscando el fichero de imagen como ruta\u00a0absoluta a nuestras descargas, estemos posicionados donde estemos en el terminal, el comando dd a ejecutar es:</p> <p>sudo dd bs=1m if=~/Downloads/archlinux-hf-2013-07-22.img of=/dev/disk1</p> <p>En OSX tenemos posibilidad de acceder al dispositivo tambi\u00e9n por un puntero al mismo en modo RAW, que ya que\u00a0estamos usando dd, que como os he contado es experto en estos desempe\u00f1os, podemos hacer uso de el.</p> <p>Hay quien\u00a0dice que con este tipo de acceso se pueden llegar a tener un 20% m\u00e1s de rendimiento, yo no apreci\u00e9 tanto, aunque si\u00a0que se nota algo.. Para esto, en vez de utilizar el dispositivo /dev/disk1 usamos el de acceso raw /dev/rdisk1, esa r ese raw. Por tanto, el comando dd \"definitivo\" ser\u00eda este:</p> <p>sudo dd bs=1m if=archlinux-hf-2013-07-22.img of=/dev/rdisk1</p> <ul> <li> <p>Tan s\u00f3lo resta esperar a la finalizaci\u00f3n del comando dd y expulsar la tarjeta SD del sistema, para la expulsi\u00f3n el\u00a0comando es este:</p> <p>sudo diskutil eject /dev/disk1</p> </li> </ul>"},{"location":"rpi_install_i/#encendemos-nuestra-pi-por-primera-vez","title":"Encendemos nuestra Pi por primera vez","text":"<p>Quitamos la SD del equipo y/o adaptador y la ponemos en la ranura de la Pi, conectamos el cable ethernet y le\u00a0ponemos corriente. La m\u00e1quina empieza a arrancar, si la tuvi\u00e9semos conectada por HDMI a un monitor o a nuestra televisi\u00f3n (el arranque\u00a0de un linux en un plasma de 50\" es espectacular XD) ver\u00edamos todo el proceso de arranque, carga de drivers,\u00a0montaje de file system, etc. Tenemos que identificar la direcci\u00f3n IP que nos ha dado el router, ser\u00e1 alguna de nuestra red local, algo en plan\u00a0192.168.1.XXX</p> <p>Vamos a realizar una conexi\u00f3n por el protocolo SSH, esto es, una conexi\u00f3n que lleva una capa de cifrado y se\u00a0comunica al puerto 22 de nuestra Pi, que por defecto en esta distribuci\u00f3n viene abierto, y que un poco m\u00e1s adelante\u00a0podr\u00e9is ver como securizar convenientemente en caso de que lo consider\u00e9is oportuno. Para realizar esta conexi\u00f3n podemos emplear nuestro propio terminal en OSX, pues disponemos de cliente nativo de\u00a0SSH, o bien podemos emplear alg\u00fan tipo de software, de los denominados de terminal, que nos aporte alg\u00fan valor\u00a0a\u00f1adido, como un historial de comandos o una gesti\u00f3n de conexiones.</p> <p>Yo uso habitualmente iTerm2, pero pod\u00e9is usar el terminal del propio Osx para esto, el comando a ejecutar es este:</p> <p>ssh root@192.168.1.20</p> <p>Una anotaci\u00f3n sobre las conexiones SSH, cuando realizamos una conexi\u00f3n por primera vez a un sistema nos suele\u00a0aparecer un mensaje en el terminal tal que as\u00ed:</p> <p>The authenticity of host '192.168.1.20 (192.168.1.20)' can't be established. RSA key fingerprint is 91:2d:b5:60:8a:17:60:4e:62:37:d2:ce:ea:94:7f:65. Are you sure you want to continue connecting (yes/no)? yes Warning: Permanently added '192.168.1.20' (RSA) to the list of known hosts.</p> <p>Tenemos que decir yes, que aceptamos que se guarde la huella RSA para ese servidor en nuestra lista de equipos conocidos. Y esta informaci\u00f3n se guarda en el fichero known_hosts que tenemos en el directorio .ssh de nuestro home de usuario (~/.ssh). \u00bfPor que os cuento esto?, pues por que esa IP, nombre de m\u00e1quina y huella de clave RSA se almacenan ah\u00ed donde os digo y en caso de hacer una reinstalaci\u00f3n de la tarjeta SD (lo har\u00e1s tarde o temprano.. al tiempo) esta informaci\u00f3n cambia. Cuando trat\u00e9is de hacer una conexi\u00f3n SSH a la nueva/reci\u00e9n formateada Pi se har\u00e1 un lio tremendo entre lo antiguo y lo nuevo y ver\u00e9is como directamente la conexi\u00f3n SSH se cierra. Es m\u00e1s, es posible que os llegue a salir un aviso en pantalla acerca de un posible ataque del tipo \u201cMan in the Middle\u201d, como esto: <pre><code>@@@@@@@@@@@\nWARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!\n@@@@@@@@@@@\nIT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!\nSomeone could be eavesdropping on you right now (man-in-the-middle attack)!\nIt is also possible that a host key has just been changed.\nThe fingerprint for the RSA key sent by the remote host is\n32:e5:d9:77:59:79:f3:83:3f:d6:19:76:b7:00:f4:c1.\nPlease contact your system administrator.\nAdd correct host key in /Users/Nono/.ssh/known\\_hosts to get rid of this message.\nOffending RSA key in /Users/Nono/.ssh/known\\_hosts:1\nRSA host key for 192.168.1.20 has changed and you have requested strict checking.\nHost key verification failed.\n</code></pre></p> <p>\u00bfSoluci\u00f3n?, modificar o eliminar este fichero, si eliminar, no pasa nada, se volver\u00e1 a generar y llenar de contenido en las siguientes conexiones. As\u00ed que, si reinstalas tu Pi y ves que no puedes conectar con ella por SSH, y que esta conexi\u00f3n se cierra al instante  prueba esto:</p> <p>rm ~/.ssh/known_hosts</p> <p>El comando rm toma su nombre de Remove, elimina ese fichero, es un comando PELIGROSO ya que no tiene marcha\u00a0atr\u00e1s, no existe un unrm... lo que borres borrado est\u00e1, adem\u00e1s este comando puede tomar a trav\u00e9s de sus\u00a0par\u00e1metros un mont\u00f3n de opciones que hagan que su comportamiento sea letal, como -fr (f = force r=recursive,\u00a0borra recursivamente sin confirmaci\u00f3n), todo un HitParade entre los becarios de administraci\u00f3n de sistemas, y que\u00a0tire la primera piedra el que nunca se le haya escapado uno y la haya liado parda... Si te da miendo usar este comando puedes tratar de mover el fichero, si mover, por que en Unix/Linux no existe un\u00a0comando que renombre elementos, existe un comando que los mueve.</p> <p>mv ~./ssh/known_hosts ~./ssh/known_hosts.old</p> <p>El comando mv es de Move, y lo que hace es que mueve el fichero known_hosts a otro destino, que es el fichero\u00a0known_hosts.old. Retomamos nuestra instalaci\u00f3n, perd\u00f3n por la dispersi\u00f3n, pero creo que es bueno ir de vez en cuando soltando cosas\u00a0de estas en plan culturilla general, que son las que m\u00e1s te hacen aprender. Hemos abierto una conexi\u00f3n SSH, hemos autorizado a que se almacene en local la huella de la clave RSA de nuestra\u00a0PI y nos est\u00e1 pidiendo la clave del usuario root, que es el que hemos configurador en la conexi\u00f3n. \u00bfQue clave?, la de por defecto, luego la cambiamos, es root</p>"},{"location":"rpi_install_i/#pantalla-negra-letras-blancas-tu-tienes-el-poder","title":"Pantalla negra letras blancas, tu tienes el poder","text":"<p>[root@alarmpi ~]#</p> <p>Con estos caracteres tu Pi te da la bienvenida al mundo del cacharreo. \u00bfDecepcionado verdad?, espera, que te explico la cantidad de informaci\u00f3n que te est\u00e1 dando con esa l\u00ednea\u00a0aparentemente tan simple. root = nos informa del usuario con el que estamos interactuando en esta sesi\u00f3n, en breve vemos como crear m\u00e1s\u00a0usuarios y esta informaci\u00f3n te ser\u00e1 de utilidad, as\u00ed sabes que estas ejecutando y con que usuario. alarmpi = el nombre de nuestra m\u00e1quina, as\u00ed sabes a que m\u00e1quina te has conectado. \u00bfPero si s\u00f3lo tengo una?, si, tu\u00a0si, pero yo a d\u00eda de hoy administro administraba entorno a los 200 servidores, vital saber el cual est\u00e1s. En breve\u00a0vemos como cambiar el nombre a nuestra m\u00e1quina, ante todo personalidad propia!!. ~ = nuestra amiga la virgulilla aparece de nuevo, nos indica que estamos en el directorio HOME de este usuario. Si\u00a0hacemos referencia en un cd (change directory, cambio de directorio) a ~ nos llevar\u00e1 a este directorio o bien lo\u00a0emplear\u00e1 para componer la ruta relativa us\u00e1ndolo como base, es lo mismo que emplear la varible de entorno $HOME\u00a0(las variables se referencia as\u00ed, con un $ por delante). Esta informaci\u00f3n es muy util pues en cuanto que cambiemos\u00a0de directorio aqu\u00ed nos aparecer\u00e1 el nombre del directorio (sin ruta) en el que nos encontramos (que ser\u00eda lo mismo\u00a0que consultar la variable de entorno $PWD, \u00f3 Process Working Directory, o ejecutar el comando pwd que nos da esta\u00a0misma informaci\u00f3n). # = esto nos indica que tenemos la shell como root, nuevamente en entornos monousuario que s\u00f3lo tenemos root no\u00a0nos aporta nada, pero cuando tenemos varios usuarios es importante porque, con usuarios que no son UID 0\u00a0(administradores, como nuestro root) el s\u00edmbolo que veremos es un $.</p> <p>\u00bfQue diferencia hay con la shell de root y la de\u00a0otro usuario?, pensad en aquel -fr del comando rm, y ahora lo junt\u00e1is con una shell privilegiada, si... la aniquilaci\u00f3n\u00a0de todo fichero de tu instalaci\u00f3n... \u00bfA que mola tener el poder?? mu ha ha ha... Toda esta informaci\u00f3n que se nos muestra es completamente personalizable, para ello podemos modificar en nuestro\u00a0fichero de perfil de shell (.profile, .bash_profile o en los esqueletos de usuarios para hacerlo general a todos los\u00a0nuevos usuarios) el valor de las variables de entorno $PS1 y $PS2, las llamadas Prompt String.</p> <p>No quiero hacer esta\u00a0gu\u00eda interminable as\u00ed que voy a omitir estas configuraciones, si alguien est\u00e1 interesado en ello que me lo pregunte,\u00a0que con mucho gusto le cuento como modificarlo.</p>"},{"location":"rpi_install_i/#nos-ponemos-al-dia","title":"Nos ponemos al d\u00eda","text":"<p>Antes de empezar a hacer m\u00e1s cosas, vamos a actualizar nuestro sistema para ponerlo a la \u00faltima. Recordad, estamos en una distribuci\u00f3n Rolling Release, as\u00ed que vamos a decirle al sistema que mire que es lo que\u00a0tiene instalado, busque en los repositosio las actualizaciones y nos las instale.</p> <p>[root@alarmpi ~]# pacman -Syu</p> <p>pacman es el comando para manejar y administrar paquetes de software, con el podr\u00e1s instalar, actualizar, eliminar y\u00a0listar el software que tienes instalado. Con los par\u00e1metros -Syu le indicamos la forma de comportarse, en este caso es S = sincroniza paquetes, y = refresca\u00a0la descarga del paquete desde el repositorio, es lo mismo que usar --refresh, y u = actualizar todos los paquetes que\u00a0est\u00e1n fuera de fecha, es lo mismo que usar el par\u00e1metro --sysupgrade Veremos como el sistema comprueba todos los paquetes y nos solicita confirmaci\u00f3n para realizar la actualizaci\u00f3n.\u00a0La primera vez lleva un tiempo. Finalizada la actualizaci\u00f3n debemos reiniciar la m\u00e1quina para que se carguen todos los paquetes nuevos/actualizados\u00a0correctamente.</p> <p>[root@alarmpi ~]# sync [root@alarmpi ~]# reboot</p> <p>El comando sync lo que hace es volcar a disco toda la informaci\u00f3n que puedan contener los buffers de memoria y que\u00a0a\u00fan no se han fijado en fichero. Es por decirlo en lenguaje m\u00e1s plano, salvar a disco lo que est\u00e1 en vuelo o en\u00a0memoria de la m\u00e1quina. El comando reboot lo que hace es un apagado y posterior inicio de nuestra m\u00e1quina. Podemos hacerlo de m\u00e1s\u00a0maneras, usando por ejemplo el comando shutdown -r o el propio systemd nos permite reiniciar con el comando\u00a0systemctl reboot.</p> <p>Alguna vez he visto diferencias entre ambos, aparte de la evidente que shutdown tiene por defecto un periodo de tiempo de gracia durante el cual puedes interrumpir la parada (con shutdown -c), pero son cosas\u00a0relativamente espec\u00edficas al sistema operativo, tal como esto que os dec\u00eda de sync, que pueda ser invocado por el\u00a0comando de reinicio, desconexiones y parada de servicios, etc. No quiero entretenerme demasiado.</p>"},{"location":"rpi_install_i/#un-toque-personal","title":"Un toque personal","text":"<p>Nuestra m\u00e1quina ya est\u00e1 casi lista para empezar a hacer tareas de las \"divertidas\", antes de seguir, vamos a darle un\u00a0poco de toque personal, hay unas cuantas cosas que no est\u00e1n configuradas o que si lo est\u00e1n es con los valores por\u00a0defecto y esto no me gusta.</p> <ul> <li>En primer lugar, la clave del administrador:</li> </ul> <p>[root@alarmpi ~]# passwd root Enter new UNIX password: Retype new UNIX password: passwd: password updated successfully</p> <p>El comando passwd nos permite cambiar la clave, se nos solicita dos veces y no se muestra en pantalla. No recuerdo bien si esta clave tiene pol\u00edtica de caracteres, en plan m\u00ednimo 8 caracteres, al menos una may\u00fascula, un\u00a0d\u00edgito num\u00e9rico, un car\u00e1cter raruno como #$%&amp; y que no se haya repetido la clave en los \u00faltimos cambios.. etc etc.. La verdad es que suelo usar una clave m\u00e1s o menos compleja que harto de estas exigencias las cumple todas y una\u00a0parte de la clave es variable para evitar repetir en futuros cambios. Lo dicho, pon\u00e9is la clave nueva que quer\u00e1is.</p> <ul> <li>Cambiamos la configuraci\u00f3n de zona horaria</li> </ul> <p>[root@alarmpi etc]# echo \"Europe/Madrid\" &gt; /etc/timezone</p> <p>Os explico. El comando echo lo que hace es imprimir en la salida estandar lo que le digamos, hace un \"eco\". \u00bfSalida estandar?, bien os amplio la informaci\u00f3n, sin nervios. Est\u00e1is tratando con un sistema operativo de verdad, no aquellos juguetes de Ms-DOS (argggg), aqu\u00ed ten\u00e9is una\u00a0entrada estandar (por defecto teclado) y DOS salidas, la estandar (\u00f3 salida 1) y la de errores (\u00f3 salida 2), ambas se\u00a0imprimen en pantalla por defecto. Con los s\u00edmbolos &gt; &lt; | pod\u00e9is manejar y redireccionar las entradas/salidas a vuestro antojo, entrada, salida y pipe o\u00a0tuber\u00eda. En este caso, el del comando echo, lo que hacemos es que la salida estandar, que es la pantalla (\u00f3 salida 1, solo que\u00a0el 1 siempre se omite) es redireccionada a algo, en este caso a un fichero, por tanto TODO lo que ese comando echo\u00a0vaya a mostrar la pantalla se va a grabar en ese fichero, salvo lo que vaya dirigido a pantalla y que est\u00e9 por la salida\u00a0de errores. Existe otro formato de redireci\u00f3n, que es &gt;&gt; , con este lo que indicamos es que si el destino de nuestra salida existe\u00a0no lo machaque, sino que a\u00f1ada contenido. \u00bfY la salida de errores?, pues bien, los comandos en Unix/Lnx muestran informaci\u00f3n por las dos salidas, por la\u00a0estandar y por la de errores, ambas por defecto aparecen en pantalla, pero nosotros podemos diferenciarlos y\u00a0reconducir una, otra o ambas a donde queramos. Por ejemplo si un comando lo tratamos para que su salida sea as\u00ed <code>&gt; /var/log/ejecucion.log 2&gt; /var/log/errores.log</code> tendremos que en pantalla no vemos nada (se puede solucionar con tee) pero se generan dos ficheros, uno,\u00a0ejecuci\u00f3n.log tiene la salida estandar, y el otro, errores.log tiene los errores del proceso.</p> <p>De esta manera podemos\u00a0consultar el fichero de errores, que puede tener pocas o ninguna l\u00ednea sin necesidad de validar un \u00fanico archivo de\u00a0miles de l\u00edneas. Tambi\u00e9n podemo decidir unificar ambas salidas, para tener tanto la salida como el error en el mismo fichero, para\u00a0esto, la redirecci\u00f3n ser\u00eda as\u00ed <code>&gt; /var/log/ejecucion.log 2&gt;&amp;1</code>, con ese &amp;1 indicamos que todo lo que vaya a la salida 2\u00a0(errores) sea enviado junto con la salida 1 (estandar), y por tanto al mismo fichero. Y otra cosa, que se suele usar mucho, en muchos casos queremos que se ejecute un proceso/programa, pero que nonos deje rastro del posible error.</p> <p>Imaginad que lanz\u00e1is un borrado de ficheros residuales, si existen el comando de\u00a0borrado los elimina, salida de errores 0, pero si no existe saca error por la salida de errores, aunque a nosotros no\u00a0nos importa, si hay borras, si no hay pues vale. Para eso, enviamos la salida de errores a un dispositivo muy especial y entra\u00f1able /dev/null, siendo el comando algo\u00a0as\u00ed <code>rm *.kk 2 &gt; /dev/null</code>\u00a0. Me borras todo lo que sea .kk y en caso de error (salida 2) me env\u00edas toda esa informaci\u00f3n al dispositivo /dev/null,\u00a0que para que os hag\u00e1is una idea es como la alfombra que se levanta para meter lo que barres del suelo y all\u00ed se\u00a0queda, desaparece s\u00f3lo.</p> <ul> <li>Continuamos con la personalizaci\u00f3n, perd\u00f3n por el tost\u00f3n, a veces me cuesta contenerme.</li> </ul> <p>[root@alarmpi ~]# rm /etc/localtime [root@alarmpi ~]# ln -s /usr/share/zoneinfo/Europe/Madrid /etc/localtime</p> <p>Borramos el enlace /etc/localime y lo volvemos a crear. \u00bfQue es un enlace?, pues un puntero a otro fichero/directorio en nuestro sistema. Si lo borramos estamos borrando solamente el enlace, no el destino del puntero, y si borramos el destino del puntero\u00a0nuestro enlace se queda \"colgado\" (seg\u00fan el tipo de terminal y su configuraci\u00f3n de visualizaci\u00f3n, podr\u00e1s llegar a ver\u00a0los enlaces colgados parpadeando en pantalla). Con el comando ln creamos un link o enlace, con el modificador -s le indicamos que es un enlace de los denominados\u00a0suaves, damos el destino del enlace y el nombre del mismo.</p> <ul> <li>Ahora modificamos las \u201clocales\u201d</li> </ul> <p>M\u00e1s bien las generamos para poder tener soporte completo a todo nuestros juego de\u00a0caracteres, incluidas las \u00d1s y todas las vocales acentuadas. Para hacer esto, los pasos son tres: 1.- Editar el fichero /etc/locale.gen para eliminar el comentario (#) de las l\u00edneas que contienen los juegos de\u00a0caracteres en espa\u00f1ol (#es_ES@euro ISO-8859-15 y #es_ES.UTF-8 UTF-8)</p> <p>[root@alarmpi ~]# vi /etc/locale.gen (Pulsar la tecla / shift + 7, y teclear la cadena a buscar, en este caso /es_ES no lleva a la primera l\u00ednea que lo contiene)</p>"},{"location":"rpi_install_i/#es_esutf-8-utf-8","title":"es_ES.UTF-8 UTF-8","text":""},{"location":"rpi_install_i/#es_eseuro-iso-8859-15","title":"es_ES@euro ISO-8859-15","text":"<p>(Sobre la # de estas dos l\u00edneas pulsamos la tecla x (x min\u00fascula) para eliminar ese car\u00e1cter) ESC + :wq!</p> <p>2.- Generar las locales, mediante el comando locale-gen</p> <p>[root@alarmpi ~]# locale-gen Generating locales... es_ES.UTF-8 es_ES.ISO-8859-15 Generation complete.</p> <p>3.- Configurar nuestro sistema para usar las locales generadas, editando y/o creando el fichero /etc/locale.conf</p> <p>[root@alarmpi ~]# vi /etc/locale.conf LANG=es_ES.UTF-8 LC_MESSAGES=es_ES.UTF-8 ESC + :wq!</p> <p>Si queremos estar seguro que tenemos las locales y el juego de caracteres correcto, en el siguiente reinicio de\u00a0m\u00e1quina podemos emplear el comando locale para ver una salida del comando similar a esto:</p> <p>[root@ alarmpi ~]# localectl status System Locale: LANG=es_ES.UTF-8 VC Keymap: n/a X11 Layout: n/a</p> <p>4.- Y configuramos la distribuci\u00f3n de las teclas para el posible uso de un teclado USB conectado a la m\u00e1quina.</p> <p>[root@alarmpi ~]# echo \u201cKEYMAP=mac-euro2\u201d &gt; /etc/vconsole.conf [root@alarmpi ~]# localectl set-keymap mac-euro2 [root@alarmpi ~]# localectl status System Locale: LANG=es_ES.UTF-8      VC Keymap: mac-euro2    X11 Layout: es X11 Model: pc105   X11 Options: terminate:ctrl_alt_bksp</p> <p>... Seguimos en el siguiente mensaje ...</p>"},{"location":"rpi_install_ii/","title":"Instalando una RaspberryPI todo uso\u2026 en 2014 (parte 3) \u2013 Instalaci\u00f3n b\u00e1sica (II)","text":""},{"location":"rpi_install_ii/#continuamos-con-la-personalizacion","title":"\u2026 Continuamos con la personalizaci\u00f3n","text":"<p>Y ya, para terminar de personalizar nuestra m\u00e1quina vamos a cambiarle el nombre, \u00bfalarmpi? a quien se le ese nombre, con la de cosas bonitas y frikis que hay para usar, toda la saga de ESDLA est\u00e1 llena de nombres m\u00e1quinas, el mundo del comic, de las novelas de Sci-Fi, o puedes usar los socorridos nombres de familiares mascotas... el nombrar o bautizar m\u00e1quinas es un arte ;)</p> <p>[root@alarmpi etc]# vi /etc/hostame Jarvis</p> <p>Con esto editamos el fichero donde est\u00e1 el nombre de nuestra m\u00e1quina. Sobre el editor VI os podr\u00eda contar mucho, pero para este caso os doy un peque\u00f1o gui\u00f3n y si os pica la dud\u00e9is consultar esta p\u00e1gina o esta otra. Despu\u00e9s de pulsar intro al final del comando vi /etc/hostname tendreis el editor abierto con una l\u00ednea que dice alarmpi. Borramos esta l\u00ednea, pulsando dos veces la tecla d <code>dd</code>, la l\u00ednea desaparece. Ahora insertamos el nuevo texto, pulsmos la tecla i <code>i</code>, y teclamos el nombre de nuestra m\u00e1quina. Termina la edici\u00f3n volvemos al modo de comando del editor pulsando la tecla ESC. Y ejecutamos el comando del editor que nos salva el fichero y finaliza la edici\u00f3n <code>:wq!</code></p> <p>Como hemos cambiado el nombre de la m\u00e1quina, debemos cambiar tambi\u00e9n la configuraci\u00f3n del fichero de direcciones locales, de manera que cuando hagamos referencia a nuestro nuevo nombre de m\u00e1quina, el sistema sea capaz de encontrarse a si mismo.</p> <p>[root@alarmpi etc]# vi hosts</p>"},{"location":"rpi_install_ii/#_1","title":"Instalando una RaspberryPI todo uso\u2026 en 2014 (parte 3) \u2013 Instalaci\u00f3n b\u00e1sica (II)","text":""},{"location":"rpi_install_ii/#etchosts-static-lookup-table-for-host-names","title":"/etc/hosts: static lookup table for host names","text":""},{"location":"rpi_install_ii/#_2","title":"Instalando una RaspberryPI todo uso\u2026 en 2014 (parte 3) \u2013 Instalaci\u00f3n b\u00e1sica (II)","text":""},{"location":"rpi_install_ii/#_3","title":"<p>127.0.0.1 localhost.localdomain localhost Jarvis ::1 localhost.localdomain localhost Jarvis</p>","text":""},{"location":"rpi_install_ii/#end-of-file","title":"End of file <p>Nuevamente recurrimos a VI. Nos desplazamos con los cursores hasta el espacio que hay detr\u00e1s de localhost, vamos a borrar todo lo que existe en esa l\u00ednea desde ese punto hasta el final. Para eso, la combinaci\u00f3n de teclas es <code>SHIFT + d</code>. Y ahora a\u00f1adimos al final de la l\u00ednea, el comando que nos habilita la edici\u00f3n al final de l\u00ednea es <code>SHIFT + a</code>. Estando en modo edicion tecleamos el nombre nuevo de nuestra m\u00e1quina y para volver a modo de comando pulsamos ESC. Nos vamos a la otra l\u00ednea y repetimos la misma operaci\u00f3n. Y para salvar, como os he dicho antes, ESC y luego <code>:wq!</code></p> <p>Un reinicio de la m\u00e1quina para que se refresquen estos cambios y ahora entramos en palabras mayores, que vamos a tocar la tabla de particiones de la tarjeta.</p> <p>[root@alarmpi ~]# sync [root@alarmpi ~]# reboot</p>","text":""},{"location":"rpi_install_ii/#particionamiento-y-redimensionamiento-de-sd","title":"Particionamiento y redimensionamiento de SD","text":"<p>Por defecto, las im\u00e1genes de las distribuciones (no se si con NOOB es igual) vienen para tarjetas de 4Gb, nosotros es muy posible que tengamos una tarjeta m\u00e1s grande, 8, 16 o 32Gb. Vamos a cambiar la tabla de particiones para que se pueda aprovechar todo es espacio, y de paso vamos a hacer una cosa muy importante que es crear una zona de Swap. Para el particionamiento yo soy muy mani\u00e1tico, me gusta crear cada file system cr\u00edtico en su lugar, para evitar que te crezcan descontroladamente si no los creas as\u00ed, como file system y los dejas como directorios. Por ejemplo, si creas un FS (file system) para el raiz de la m\u00e1quina / y en este existe el directorio /var/log (que es donde suelen ir todos los logs del sistema) no sabr\u00e1s de una manera r\u00e1pida y clara si el contenido de ese directorio crece de manera inusual, tampoco tendr\u00e1s posibilidades de maniobrar ampliando si se da el caso. En cambio, si creas un FS para / y otro FS para /var/log ambos puntos de montaje son independientes y puedes ampliar llegado el caso el de log y controlarlo de un simple vistazo. De todas maneras, todo esto es mucho, pero que mucho m\u00e1s manejable si en vez de hacerlo as\u00ed empleamos LVM (Logical Volumen Manager), el cual nos permite agrupar el almacenamiento y crear vol\u00famenes l\u00f3gicos, si veo que no me sale una gu\u00eda excesivamente grande no descarto contar algo de LVM de cara sobre todo al almacenamiento externo. Para este caso y casi todo lo que voy a contar en la guia, con un particionamiento m\u00e1s o menos rudimenatario puede valer, esto es, dando todo el espacio que nos sea posible a la raiz del sistema (/) y generando una peque\u00f1a \u00e1rea para la zona de swap que ahora despu\u00e9s os comentar\u00e9. La modificaci\u00f3n de la tabla de particiones es una tarea cr\u00edtica, un error y no arranc\u00e1is, as\u00ed que si has pensado en hacer un clonado de tu SD, este es el momento, recordad aquel programa, Pi Copier que os coment\u00e9.</p> <p>Vamos a particionar, para esto, conectados a nuestra Pi por SSH con el usuario root utilizamos el comando <code>fdisk</code>(Fixed Disk Setup), y tenemos que indicarle a este programa cual es el dispositivo que apunta a nuestra tarjeta SD. Con el comando <code>df -kh</code> que os indiqu\u00e9 antes podr\u00e9is ver en que dispositivo est\u00e1n montadas las particiones y sus FileSystem, ya os lo digo yo, es /dev/mmcblk0 Todo lo que os pongo a continuaci\u00f3n es espec\u00edfico de un ARCH Linux, de una imagen reciente (a partir de Septiembre de 2013).</p> <p>fdisk /dev/mmcblk0 Welcome to fdisk (util-linux 2.23.1). Changes will remain in memory only, until you decide to write them. Be careful before using the write command. Command (m for help):</p> <p>\u00bfQue? \u00bfintuitivo verdad?... En primer lugar, listamos las particiones actuales, para esto, el comando es p (de print).</p> <p>Disk /dev/mmcblk0: 31.7 GB, 31674335232 bytes, 61863936 sectors Units = sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk label type: dos Disk identifier: 0x00057540 Device Boot Start End Blocks Id System /dev/mmcblk0p1 2048 186367 92160 c W95 FAT32 (LBA) /dev/mmcblk0p2 186368 3667967 1740800 5 Extended /dev/mmcblk0p5 188416 3667967 1739776 83 Linux</p> <p>Hay que fijarse, importante, el punto de inicio de las particiones (Start). Hay tres particiones, la p1 que es donde est\u00e1 la partici\u00f3n de arranque o boot del sistema. La p2 que es extendida y la p5 que es una partici\u00f3n l\u00f3gica y est\u00e1 contenida dentro de p2. Empezamos por eliminar p2 (y por tanto p5).</p> <p>Command (m for help): d Partition number (1,2,5, default 5): 2 Partition 2 is deleted</p> <p>Con el comando d (delete) le decimos que queremos borrar una partici\u00f3n y luego le damos el n\u00famero de partici\u00f3n. Si listamos las particiones que nos quedan ahora, el resultado es este:</p> <p>Command (m for help): p Disk /dev/mmcblk0: 31.7 GB, 31674335232 bytes, 61863936 sectors Units = sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk label type: dos Disk identifier: 0x00057540 Device Boot Start End Blocks Id System /dev/mmcblk0p1 2048 186367 92160 c W95 FAT32 (LBA)</p> <p>Nos hemos quedado con la partici\u00f3n de arranque, pero tranquilos, que no hemos perdido nada de nuestra tarjeta (todav\u00eda!! XD). A\u00f1adimos de nuevo la partici\u00f3n 2, extendida, d\u00e1ndole m\u00e1s espacio en la tarjeta pero con el mismo punto de inicio, no hace falta que nos acordemos de cual, el sistema nos va a decir cual es ese punto, importante, dejad un poco de hueco para un \u00e1rea de Swap que en breve os voy a contar.</p> <p>Command (m for help): n Partition type: p primary (1 primary, 0 extended, 3 free) e extended Select (default p): e Partition number (2-4, default 2): 2 First sector (186368-61863935, default 186368): Using default value 186368 Last sector, +sectors or +size{K,M,G} (186368-7698431, default 7698431): +28G Partition 2 of type Linux and of size 28 GiB is set</p> <p>Pulsamos comando n (new) e indicamos que es una partici\u00f3n de tipo e (extendida), el n\u00famero que vamos a usar es el 2 y el n\u00famero del sector de inicio que nos marca es el 186368, que es el mismo que ten\u00edamos en el primero listado con el comando p (este dato puede variar en tu caso), y ahora le indicamos que a partir de ese sector nos cree una partici\u00f3n de 28Gb con el +28G. Ahora vamos a crear una nueva partici\u00f3n, la 5, de tipo l\u00f3gico, lo hacemos as\u00ed:</p> <p>Command (m for help): n Partition type: p primary (1 primary, 1 extended, 2 free) l logical (numbered from 5) Select (default p): l Adding logical partition 5 First sector (188416-61863935, default 188416): Using default value 188416 Last sector, +sectors or +size{K,M,G} (188416-61863935, default 61863935): +28G Partition 5 of type Linux and of size 28 GiB is set</p> <p>Una vez m\u00e1s, vemos como el sector de inicio coincide con el que ten\u00edamos en el primer listado (esto es realmente lo importante, que eso no cambie). Hemos puesto el comando n para una nueva partici\u00f3n, el tipo indicado es l de logical, y el tama\u00f1o el mismo que hemos dado para la extendida (una partici\u00f3n extendida puede contener varias l\u00f3gicas). Si queremos ver si tenemos todo bien, hasta ahora, volvemos a imprimir la tabla actual de particiones:</p> <p>Command (m for help): p Disk /dev/mmcblk0: 31.7 GB, 31674335232 bytes, 61863936 sectors Units = sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk label type: dos Disk identifier: 0x00057540 Device Boot Start End Blocks Id System /dev/mmcblk0p1 2048 186367 92160 c W95 FAT32 (LBA) /dev/mmcblk0p2 186368 61863935 30838784 5 Extended /dev/mmcblk0p5 188416 61863935 30837760 83 Linux</p> <p>\u00bfYa hemos terminado?, pues no. Tenemos 29Gb m\u00e1s o menos particionados en nuestra tarjeta, vamos a crear la partici\u00f3n para Swap, que veremos m\u00e1s adelante como manejar, y as\u00ed dejamos esto listo para el reinicio.</p> <p>Command (m for help): n Partition type: p primary (2 primary, 0 extended, 2 free) e extended Select (default p): p Partition number (1-4, default 3): 3 First sector (6477824-7698431, default 6477824): Using default value 6477824 Last sector, +sectors or +size{K,M,G} (6477824-7698431, default 7698431): Using default value 7698431 Partition 3 of type Linux and of size 1.1 GiB is set Command (m for help): t Partition number (1-4): 3 Hex code (type L to list codes): 82 Changed system type of partition 3 to 82 (Linux swap / Solaris)</p> <p>Empezamos con el comando n para a\u00f1adir una nueva partici\u00f3n de tipo p (primary), y el n\u00famero de partici\u00f3n a usar es el 3. No tenemos que preocuparnos por sectores de inicio y sectores de fin, el sistema nos ofrece el primer sector libre como sector de inicio, y el \u00faltimo sector disponible como sector de fin, d\u00e1ndonos as\u00ed todo el espacio que queda disponible en la tarjeta. Y luego damos el comando t (type), porque por defecto el tipo es el 83, una partici\u00f3n Linux, pero nosotros queremos que sea del tipo 82 Linux Swap, as\u00ed que despu\u00e9s de indicar el n\u00famero de partici\u00f3n, la 3, ponemos ese c\u00f3digo, el 82 y ya est\u00e1.</p> <p>Bien, tarjeta particionada, solo tenemos que hacer dos cosas, salvar la nueva tabla de particiones y reiniciar (y como tercera cosa, cruzad los dedos). Para salvar:</p> <p>Command (m for help): w The partition table has been altered! Calling ioctl() to re-read partition table. WARNING: Re-reading the partition table failed with error 16: Device or resource busy. The kernel still uses the old table. The new table will be used at the next reboot or after you run partprobe(8) or kpartx(8) Syncing disks.</p> <p>Y ahora reiniciamos (recordad, cruzad los dedos, es fundamental) ....</p> <p>[root@Jarvis ~]# sync [root@Jarvis ~]# reboot</p> <p>Cuando el sistema vuelva a ofrecernos conexi\u00f3n (y podamos volver a respirar.. XD) tendremos la nueva particiones cargada, pero los File System ocupan lo mismo, as\u00ed que debemos redimensionarlos para que se extiendan hasta ocupar todo el espacio disponible en las particiones, esto es as\u00ed:</p> <p>[root@Jarvis ~]$ sudo resize2fs /dev/mmcblk0p5 resize2fs 1.42.7 (21-Jan-2013) Filesystem at /dev/mmcblk0p5 is mounted on /; on-line resizing required old_desc_blocks = 1, new_desc_blocks = 2 The filesystem on /dev/mmcblk0p5 is now 7709440 blocks long.</p> <p>El comando <code>resize2fs</code>si no le indicamos ning\u00fan par\u00e1metro adicional extiende el File System hasta la capacidad disponible en el dispositivo, en nuestro caso /dev/mmcblk0p5, siendo p5 la partici\u00f3n 5, esto es, nuestra partici\u00f3n l\u00f3gica.</p> <p>Este comando tambi\u00e9n se puede usar para extender parcialmente el FS y dejar as\u00ed algo de espacio no disponible a modo de reserva, y tambi\u00e9n se puede hacer para reducir el espacio disponible de un FS, siempre que no est\u00e9 en uso claro. Ya est\u00e1, nuestra SD est\u00e1 siendo utilizada al m\u00e1ximo.</p>"},{"location":"rpi_install_ii/#area-de-swap","title":"\u00c1rea de Swap","text":"<p>\u00bfQue es esto el \u00e1rea de Swap? Pues sencillo, as\u00ed, a grosso modo es un \u00e1rea de intercambio. \u00bfComo el archivo de paginaci\u00f3n de Windows (arggg)?, si, como eso, pero BIEN hecho. La gesti\u00f3n de la memoria f\u00edsica (RAM) se hace mediante bloques, llamados p\u00e1ginas. Cuando el sistema necesita liberar p\u00e1ginas de memoria f\u00edsica las vuelca sobre esta memoria virtual. Por l\u00f3gica, el acceso a la memoria f\u00edsica es mucho m\u00e1s r\u00e1pido que a la virtual, estamos hablando de accesos a placas de memoria que se miden en nonasegundos respecto a accesos a discos duros que se miden en milisengundos. Pero tambi\u00e9n es cierto que el almacenamiento en disco es mucho m\u00e1s barato que la ram f\u00edsica, por no hablar de que la mayor\u00eda de las m\u00e1quinas tienen una cantidad de memoria RAM con la que pueden trabajar, si necesitamos m\u00e1s o bien cambiamos de m\u00e1quina o bien usamos Swap. Hay una expresi\u00f3n muy com\u00fan en esto de la inform\u00e1tica que es, la m\u00e1quina est\u00e1 paginando, esto viene a indicar que la m\u00e1quina est\u00e1 casi sin memoria f\u00edsica y empieza a volcar en la swap todo lo que puede para evitar quedarse tiesa, durante ese tiempo sigue dando servicio pero se ve claramente degradado. El encontrar ese equilibro entre la cantidad de RAM f\u00edsica, la cantidad de Swap a usar, y el momento en el que paginares uno de los \"unicornios\" en la optimizaci\u00f3n de servidores...</p> <p>Para nuestro caso, la rPi, modelo B tiene 512 Mb de RAM, yo le voy a dar 1Gb adicional para Swap. Posteriormente veremos como podemos hacer ciertos ajustes en el comportamiento de esta Swap que vamos a crear para precisamente definir eso que comentaba. Hace un momento os he dicho como crear una partici\u00f3n en nuestra SD espec\u00edfica de Swap, vamos a darle uso.</p> <p>[root@Jarvis ~]# mkswap /dev/mmcblk0p3 Setting up swapspace version 1, size = 610300 KiB no label, UUID=97bae743-01b0-4307-baae-fc41b40bc4c6</p> <p>Con ese comando <code>mkswap</code>(make swap) creamos un \u00e1rea de swap en el dispositivo que le indiquemos, en este caso la partici\u00f3n p3 de nuestra SD que es la que hemos habilitado para ello. Ahora debemos configurar el sistema para que en cada arranque este \u00e1rea de swap se ponga en uso:</p> <p>[root@Jarvis ~]# vi /etc/fstab</p>"},{"location":"rpi_install_ii/#_4","title":"","text":""},{"location":"rpi_install_ii/#etcfstab-static-file-system-information","title":"/etc/fstab: static file system information","text":""},{"location":"rpi_install_ii/#_5","title":"","text":""},{"location":"rpi_install_ii/#_6","title":"<p>/dev/mmcblk0p1 /boot vfat defaults 0 0 /dev/mmcblk0p3 none swap defaults 0 0</p> <p>Editamos con nuestro nuevo amigo, el editor Vi el fichero fstab (file system table), y a\u00f1adimos una l\u00ednea al final (pulsando <code>SHIFT + G</code>para ir al final, y una vez all\u00ed pulsando i de insertar).</p> <p>La l\u00ednea indica el dispositivo, el punto de montaje (que en el caso de swap no aplica), el tipo a usar y luego las opciones por defecto, default y 0 0. Sobre las opciones, usamos defaults. Estas opciones si mir\u00e1is en enlace que os he puesto, ver\u00e9is de todo, incluso una opci\u00f3n discard muy apropiada para los discos SSD tan de moda \u00faltimamente. En el caso de un FS basado en ext4 ser\u00eda similar a poner las opciones rw, suid, dev, exec, auto, nouser y async. Y los 0 0 del final, el primero es para dump, los posibles valores son 0 o 1, en caso de 1 se hace dump de este punto de montaje, si es que dump est\u00e1 instalado, que no es m\u00e1s que una herramienta que nos permite hacer volcados a un fichero de un punto de montaje, luego lo vemos en el apartado de backup.</p> <p>El segundo 0 es para el proceso fsck o File System Check, los posibles valores son 0,1 y 2. El valor 0 es que no se tiene en cuenta esta FS en caso de hacer un chequeo autom\u00e1tico, los valores 1 y 2 si se tiene en cuenta y especificas la prioridad de validaci\u00f3n, siendo siempre 1 para el punto de arranque o boot que debe tener prioridad sobre el resto, que en caso de que queramos chequearlos tendr\u00e1n que llevar un 2. Activamos la swap, con el siguiente comando <code>[root@Jarvis ~]# swapon -a</code></p> <p>Esto le dice al sistema que mire en el fichero /etc/fstab y ponga en marcha todos los dispositivos de tipo swap. Para ver que se est\u00e1 usando, pues utilizamos el mismo comando pero con este otro par\u00e1metro:</p> <p>[root@Jarvis ~]# swapon -s Filename Type Size Used Priority /dev/mmcblk0p3 partition 610300 0 -1</p> <p>Y si queremos asegurarnos que est\u00e1 activa, las primeras l\u00edneas del comando top nos dir\u00e1n la cantidad de swap disponible:</p> <p>KiB Mem: 473124 total, 48240 used, 424884 free, 7280 buffers KiB Swap: 610300 total, 0 used, 610300 free, 20072 cached</p> <p>M\u00e1s cosas sobre la swap, podemos modificar su comportamiento, en el fichero /etc/sysctl.conf:</p> <p># Swapping too much or not enough? Disks spinning up when you'd</p>","text":""},{"location":"rpi_install_ii/#rather-they-didnt-tweak-these","title":"rather they didn't? Tweak these.","text":""},{"location":"rpi_install_ii/#vmvfs_cache_pressure-100","title":"vm.vfs_cache_pressure = 100","text":""},{"location":"rpi_install_ii/#vmlaptop_mode-0","title":"vm.laptop_mode = 0","text":""},{"location":"rpi_install_ii/#vmswappiness-60","title":"vm.swappiness = 60 <p>Modificando el par\u00e1metro swappiness le indicamos al sistema su tendencia usar o no la swap, contra m\u00e1s cerca del 99 m\u00e1s paginar\u00e1 en este \u00e1rea.</p>","text":""},{"location":"rpi_install_ii/#y-si-quiero-usar-mi-rpi-por-wifi","title":"\u00bfY si quiero usar mi rPI por Wifi?","text":"<p>Por defecto en ARCH no tenemos soporte para los adaptares WIFI, en otras distribuciones si que bien integrado pero en esta debemos instalarlo y configurarlo, no es muy dif\u00edcil, estos son los pasos. En primer lugar instalamos el paquete necesario:</p> <p>[root@Jarvis ~]# pacman -S wireless_tools resolving dependencies... looking for inter-conflicts... Packages (1): wireless_tools-29-8 Total Download Size: 0.08 MiB Total Installed Size: 0.24 MiB :: Proceed with installation? [Y/n] Y :: Retrieving packages ... wireless_tools-29-8-armv6h 82.4 KiB 231K/s 00:00 [#############################################] 100% (1/1) checking keys in keyring [#############################################] 100% (1/1) checking package integrity [#############################################] 100% (1/1) loading package files [#############################################] 100% (1/1) checking for file conflicts [#############################################] 100% (1/1) checking available disk space [#############################################] 100% (1/1) installing wireless_tools [#############################################] 100%</p> <p>Ahora conectamos nuestro adaptador WIFI al puerto USB libre y reinicarmos el sistema para que se carguen los drivers del mismo <code>[root@Jarvis ~]# sync; reboot</code></p> <p>Una vez que ha arrancado debemos mirar si nuestro adaptador USB aparece listado, para esto:</p> <p>[root@Jarvis ~]# lsusb Bus 001 Device 004: ID 148f:5370 Ralink Technology, Corp. RT5370 Wireless Adapter Bus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp. SMSC9512/9514 Fast Ethernet Adapter Bus 001 Device 002: ID 0424:9512 Standard Microsystems Corp. SMC9512/9514 USB Hub Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub</p> <p>En el bus 001, el dispositivo 4 se correspondea nuestro adaptador Wifi. Y ahora lo vamos a configurar, para despu\u00e9s activarlo. El comando de configuraci\u00f3n es este, y os aparece un menu realtivamente intuitivo <code>[root@Jarvis ~]# wifi-menu</code></p> <p>En este men\u00fa debemos ver nuestra BSSID listada, esto es, nuestra red Wifi, podremos introducir un nombre que le vamos a dar a la conexi\u00f3n y teclear la clave de la Wifi, ojo, que esta clave se muestra en plano en pantalla, no aparecen los * para taparla. Ahora vamos a comprobar que se ha activado bien el interfaz de red. El comando con el que manejamos los interfaces de red es ifconfig, con el par\u00e1metro -a que nos los lista todos. En la salida de este comando deberemos localizar algo as\u00ed:</p> <p>[root@Jarvis ~]# ifconfig -a eth0: flags=4163 mtu 1500 inet 192.168.1.20 netmask 255.255.255.0 broadcast 192.168.1.255 ether b8:27:eb:30:f0:8f txqueuelen 1000 (Ethernet) RX packets 440 bytes 37247 (36.3 KiB) RX errors 0 dropped 1 overruns 0 frame 0 TX packets 264 bytes 43962 (42.9 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 ... wlan0: flags=4163 mtu 1500 inet 192.168.1.23 netmask 255.255.255.0 broadcast 192.168.1.255 ether 00:87:32:91:02:39 txqueuelen 1000 (Ethernet) RX packets 7 bytes 1346 (1.3 KiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 26 bytes 5325 (5.2 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 <p>Ese eth0 se corresponde con nuestra tarjeta de red por Ethernet, y el wlan0 se corresponde con nuestro adaptador Wifi. En ambos casos vemos las Ips asigandas a esas direcciones MAC por nuestro DHCP en el router. Para esta configuraci\u00f3n de wlan0 se ha generado un fichero de perfil en la m\u00e1quina. El fichero de perfil est\u00e1 guardado aqu\u00ed: <code>/etc/netctl/wlan0-JAZZTEL_B1B9</code></p> <p>Tenemos que hacer dos cosas, la primera es activarlo para ver que todo marcha bien:</p> <p>[root@Jarvis netctl]# netctl start wlan0-JAZZTEL_B1B9</p> <p>Si ejecutamos un <code>ifconfig -a</code>a continuaci\u00f3n veremos como nuestro interfaz de red wlan0 ya tiene direcci\u00f3n IP asignada:</p> <p>wlan0: flags=4163 mtu 1500 inet 192.168.1.23 netmask 255.255.255.0 broadcast 192.168.1.255 <p>Y ahora lo dejamos habilitado para que se cargue en el arranque de m\u00e1quina.</p> <p>[root@Jarvis netctl]# netctl enable wlan0-JAZZTEL_B1B9 ln -s '/etc/systemd/system/netctl@wlan0\\x2dJAZZTEL_B1B9.service' '/etc/systemd/system/multiuser. target.wants/netctl@wlan0\\x2dJAZZTEL_B1B9.service'</p> <p>Con esto, en los sucesivos arranques se activar\u00e1 el dispositivo Wifi. Y listo, ya tenemos nuestra Pi para poder empezar a darle ca\u00f1a.</p>"},{"location":"rpi_intro/","title":"Instalando una RaspberryPI todo uso... en 2014","text":"<p>Pues s\u00ed, en 2014, en el momento de escribir este mensaje son algo m\u00e1s de 6 a\u00f1os, pero claro, 6 a\u00f1os en tecnolog\u00eda son mucho tiempo.</p> <p>Por aquella \u00e9poca ten\u00eda una RPi modelo B de 512Mb con la que trasteaba bastante, y tambi\u00e9n formaba parte del GUM de la Comunidad de Madrid (Grupo de usuarios MAC), una cosa lleva a la otra y termin\u00e9 ofreciendo un taller donde contar el uso que pod\u00edamos darles a estas placas, haciendo una instalaci\u00f3n y alguno de sus usos orientados al usuario de MAC.</p> <p>Y... se me fue un poco de las manos... all\u00ed me plant\u00e9 con la intenci\u00f3n contar como montar casi de todo, un servidor web, un servidor de archivos, un servidor para copias de seguridad, un servidor de AirPrint/Cups, un media center con XBMC y AirPlay, gesti\u00f3n dom\u00f3tica... todo con lo que hab\u00eda estado trasteando meses atr\u00e1s</p> <p>As\u00ed que cargu\u00e9 con mi Pi, mi viejo MacBook, impresora multifunci\u00f3n, enchufes dom\u00f3ticos Z-Wave, un router, c\u00e1maras IP, etc. y mont\u00e9 el \"tenderete\".</p> <p>A los 5 minutos de empezar la charla ya me di cuenta que aquel foro no se estaba enterando de nada y que en el fondo lo que no fuesen pantallas gr\u00e1ficas no ten\u00edan cabida all\u00ed, por mucho que algunos se pusieran el t\u00edtulo de \"cacharreros\" (geek que queda mejor... fontanero-geek, chapucero-geek, telepizzero-geek...), pocos eran los que cazaba algo, y muchos los que ya estaban sacando sus iPads y empezaban a garabatear dibujos...</p> <p>Est\u00e1 claro que lo hice todo mal desde el principio, y lo \u00fanico con lo que hacerte fu\u00e9 con la publicaci\u00f3n durante la noche anterior en el foro privado de la asociaci\u00f3n una serie de mensajes con todo lo que pretend\u00eda contar.</p> <p>L\u00f3gicamente esto a d\u00eda de hoy no vale para mucho, en 6 a\u00f1os hay nuevas versiones de todo (XBMC ya es Kodi, y de AirPlay te puedes despedir...), pero recordad que el motivo de existir de este blog es que pueda guardar mis cosas.</p> <p>Aqu\u00ed ir\u00e9 actualizando un \u00edndice de las distintas partes de este grupo de mensajes por si quer\u00e9is ir saltando a alguna parte que os interese m\u00e1s.</p> <ul> <li>Introducci\u00f3n</li> <li>Instalaci\u00f3n b\u00e1sica (I)</li> <li>Instalaci\u00f3n b\u00e1sica (II)</li> <li>Securizaci\u00f3n</li> <li>Copias de Seguridad</li> <li>Pr\u00e1ctico 1 - Servidor de WordPress (I)</li> <li>Pr\u00e1ctico 1 - Servidor de WordPress (II)</li> <li>Pr\u00e1ctico 2 - Gestor de Descargas</li> <li>Pr\u00e1ctico 3 - Servidor Impresi\u00f3n/AirPrint</li> <li>Pr\u00e1ctico 4 - Servidor Copias de Seguridad</li> <li>Pr\u00e1ctico 5 - Dom\u00f3tica, C\u00e1maras IP y RaZberry</li> <li>Pr\u00e1ctico 6 - Media Center</li> <li>Pr\u00e1ctico 7 - Emulaci\u00f3n de juegos</li> <li>Alternativas a RPi</li> <li>Ap\u00e9ndices (I) - Reinicio de router</li> <li>Ap\u00e9ndices (II) - XBMC con MariaDB para BBDD distribuida</li> <li>Ap\u00e9ndices (III) - Administraci\u00f3n con Webmin</li> </ul>"}]}